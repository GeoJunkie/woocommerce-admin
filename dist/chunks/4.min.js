(window.__wcAdmin_webpackJsonp=window.__wcAdmin_webpackJsonp||[]).push([[4],{575:function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return x}));var a=n(13),c=n.n(a),o=n(14),r=n.n(o),i=n(15),s=n.n(i),l=n(16),m=n.n(l),u=n(9),d=n.n(u),f=n(0),p=n(8),b=n.n(p),_=n(97),v=n.n(_),h=n(17),y=n.n(h),O=n(1),j=n.n(O),w=n(40),N=n(4),g=(n(606),n(3));function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=d()(e);if(t){var c=d()(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return m()(this,n)}}var k=function(e){s()(n,e);var t=E(n);function n(){return c()(this,n),t.apply(this,arguments)}return r()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.hasAction,a=e.hasDate,c=e.hasSubtitle,o=e.lines,r=b()("woocommerce-activity-card is-loading",t);return Object(f.createElement)("div",{className:r,"aria-hidden":!0},Object(f.createElement)("span",{className:"woocommerce-activity-card__icon"},Object(f.createElement)("span",{className:"is-placeholder"})),Object(f.createElement)("div",{className:"woocommerce-activity-card__header"},Object(f.createElement)("div",{className:"woocommerce-activity-card__title is-placeholder"}),c&&Object(f.createElement)("div",{className:"woocommerce-activity-card__subtitle is-placeholder"}),a&&Object(f.createElement)("div",{className:"woocommerce-activity-card__date"},Object(f.createElement)("span",{className:"is-placeholder"}))),Object(f.createElement)("div",{className:"woocommerce-activity-card__body"},Object(g.range)(o).map((function(e){return Object(f.createElement)("span",{className:"is-placeholder",key:e})}))),n&&Object(f.createElement)("div",{className:"woocommerce-activity-card__actions"},Object(f.createElement)("span",{className:"is-placeholder"})))}}]),n}(f.Component);k.propTypes={className:j.a.string,hasAction:j.a.bool,hasDate:j.a.bool,hasSubtitle:j.a.bool,lines:j.a.number},k.defaultProps={hasAction:!1,hasDate:!1,hasSubtitle:!1,lines:1};var x=k;function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=d()(e);if(t){var c=d()(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return m()(this,n)}}var C=function(e){s()(n,e);var t=R(n);function n(){return c()(this,n),t.apply(this,arguments)}return r()(n,[{key:"getCard",value:function(){var e=this.props,t=e.actions,n=e.className,a=e.children,c=e.date,o=e.icon,r=e.subtitle,i=e.title,s=e.unread,l=b()("woocommerce-activity-card",n),m=Array.isArray(t)?t:[t],u=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/.test(c)?y.a.utc(c).fromNow():c;return Object(f.createElement)("section",{className:l},s&&Object(f.createElement)("span",{className:"woocommerce-activity-card__unread"}),o&&Object(f.createElement)("span",{className:"woocommerce-activity-card__icon","aria-hidden":!0},o),i&&Object(f.createElement)("header",{className:"woocommerce-activity-card__header"},Object(f.createElement)(w.H,{className:"woocommerce-activity-card__title"},i),r&&Object(f.createElement)("div",{className:"woocommerce-activity-card__subtitle"},r),u&&Object(f.createElement)("span",{className:"woocommerce-activity-card__date"},u)),a&&Object(f.createElement)(w.Section,{className:"woocommerce-activity-card__body"},a),t&&Object(f.createElement)("footer",{className:"woocommerce-activity-card__actions"},m.map((function(e,t){return Object(f.cloneElement)(e,{key:t})}))))}},{key:"render",value:function(){var e=this.props.onClick;return e?Object(f.createElement)(N.Button,{className:"woocommerce-activity-card__button",onClick:e},this.getCard()):this.getCard()}}]),n}(f.Component);C.propTypes={actions:j.a.oneOfType([j.a.arrayOf(j.a.element),j.a.element]),onClick:j.a.func,className:j.a.string,children:j.a.node,date:j.a.string,icon:j.a.node,subtitle:j.a.node,title:j.a.oneOfType([j.a.string,j.a.node]),unread:j.a.bool},C.defaultProps={icon:Object(f.createElement)(v.a,{size:48}),unread:!1}},580:function(e,t,n){"use strict";function a(e){return e?e.substr(1).split("&").reduce((function(e,t){var n=t.split("="),a=n[0],c=decodeURIComponent(n[1]);return c=isNaN(Number(c))?c:Number(c),e[a]=c,e}),{}):{}}function c(){var e="",t=a(window.location.search),n=t.page,c=t.path,o=t.post_type;if(n){var r="wc-admin"===n?"home_screen":n;e=c?c.replace(/\//g,"_").substring(1):r}else o&&(e=o);return e}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return o}));var o=function(e,t){return e.reduce((function(e,n){return e[t(n)?0:1].push(n),e}),[[],[]])}},591:function(e,t,n){"use strict";var a=n(36),c=n.n(a),o=n(18),r=n.n(o),i=n(26),s=n.n(i),l=n(0),m=n(6),u=n.n(m),d=n(2),f=n(40),p=n(21),b=n(11),_=n(29),v=n(217),h=n(214),y=n(37),O=n(575),j=n(219),w=n(580),N=(n(610),function(e,t){Object(_.recordEvent)("inbox_action_click",{note_name:e.name,note_title:e.title,note_content_inner_link:t})}),g=function(e){var t=e.hasNotes,n=e.isBatchUpdating,a=e.lastRead,c=e.notes,o=e.onDismiss,r=e.onNoteActionClick;if(!n){if(!t)return Object(l.createElement)(O.a,{className:"woocommerce-empty-activity-card",title:Object(d.__)("Your inbox is empty","woocommerce-admin"),icon:!1},Object(d.__)("As things begin to happen in your store your inbox will start to fill up. You'll see things like achievements, new feature announcements, extension recommendations and more!","woocommerce-admin"));var i=Object(w.a)(),s=function(e){Object(_.recordEvent)("inbox_note_view",{note_content:e.content,note_name:e.name,note_title:e.title,note_type:e.type,screen:i})},m=Object.keys(c).map((function(e){return c[e]}));return Object(l.createElement)(v.a,{role:"menu"},m.map((function(e){var t=e.id;return e.is_deleted?null:Object(l.createElement)(h.a,{key:t,timeout:500,classNames:"woocommerce-inbox-message"},Object(l.createElement)(y.InboxNoteCard,{key:t,note:e,lastRead:a,onDismiss:o,onNoteActionClick:r,onBodyLinkClick:N,onNoteVisible:s}))})))}},E={page:1,per_page:p.QUERY_DEFAULTS.pageSize,status:"unactioned",type:p.QUERY_DEFAULTS.noteTypes,orderby:"date",order:"desc",_fields:["id","name","title","content","type","status","actions","date_created","date_created_gmt","layout","image","is_deleted"]};t.a=function(){var e=Object(b.useDispatch)("core/notices").createNotice,t=Object(b.useDispatch)(p.NOTES_STORE_NAME),n=t.batchUpdateNotes,a=t.removeAllNotes,o=t.removeNote,i=t.updateNote,m=t.triggerNoteAction,v=Object(b.useSelect)((function(e){var t=e(p.NOTES_STORE_NAME),n=t.getNotes,a=t.getNotesError,c=t.isResolving,o=t.isNotesRequesting;return{notes:n(E),isError:Boolean(a("getNotes",[E])),isResolvingNotes:c("getNotes",[E]),isBatchUpdating:o("batchUpdateNotes")}})),h=v.isError,O=v.isResolvingNotes,N=v.isBatchUpdating,k=v.notes,x=Object(p.useUserPreferences)(),R=x.updateUserPreferences,C=s()(x,["updateUserPreferences"]),A=Object(l.useState)(C.activity_panel_inbox_last_read),S=r()(A,1)[0],U=Object(l.useState)(),B=r()(U,2),D=B[0],P=B[1];Object(l.useEffect)((function(){var e=Date.now();R({activity_panel_inbox_last_read:e})}),[]);var T=function(){var t=c()(u.a.mark((function t(){var c,r,s,l,m,f,p,b,v=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=v.length>0&&void 0!==v[0]&&v[0],r="all"===D.type,s=Object(w.a)(),Object(_.recordEvent)("inbox_action_dismiss",{note_name:D.note.name,note_title:D.note.title,note_name_dismiss_all:r,note_name_dismiss_confirmation:c,screen:s}),!c){t.next=30;break}if(l=D.note.id,m=!l||r,t.prev=7,f=[],!m){t.next=15;break}return t.next=12,a();case 12:f=t.sent,t.next=19;break;case 15:return t.next=17,o(l);case 17:p=t.sent,f=[p];case 19:P(void 0),e("success",f.length>1?Object(d.__)("All messages dismissed","woocommerce-admin"):Object(d.__)("Message dismissed","woocommerce-admin"),{actions:[{label:Object(d.__)("Undo","woocommerce-admin"),onClick:function(){f.length>1?n(f.map((function(e){return e.id})),{is_deleted:0}):i(l,{is_deleted:0})}}]}),t.next=28;break;case 23:t.prev=23,t.t0=t.catch(7),b=m?k.length:1,e("error",Object(d._n)("Message could not be dismissed","Messages could not be dismissed",b,"woocommerce-admin")),P(void 0);case 28:t.next=31;break;case 30:P(void 0);case 31:case"end":return t.stop()}}),t,null,[[7,23]])})));return function(){return t.apply(this,arguments)}}();if(h){var M=Object(d.__)("There was an error getting your inbox. Please try again.","woocommerce-admin"),z=Object(d.__)("Reload","woocommerce-admin");return Object(l.createElement)(f.EmptyContent,{title:M,actionLabel:z,actionURL:null,actionCallback:function(){window.location.reload()}})}var V=Object(j.b)(k);return Object(l.createElement)(l.Fragment,null,Object(l.createElement)("div",{className:"woocommerce-homepage-notes-wrapper"},(O||N)&&Object(l.createElement)(f.Section,null,Object(l.createElement)(y.InboxNotePlaceholder,{className:"banner message-is-unread"})),Object(l.createElement)(f.Section,null,!O&&!N&&g({hasNotes:V,isBatchUpdating:N,lastRead:S,notes:k,onDismiss:function(e,t){P({note:e,type:t})},onNoteActionClick:function(e,t){m(e.id,t.id)}})),D&&Object(l.createElement)(y.InboxDismissConfirmationModal,{onClose:T,onDismiss:function(){return T(!0)}})))}},606:function(e,t,n){},610:function(e,t,n){},664:function(e,t,n){"use strict";var a=n(0),c=n(12),o=Object(a.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(a.createElement)(c.Path,{fillRule:"evenodd",d:"M5 5.5h14a.5.5 0 01.5.5v1.5a.5.5 0 01-.5.5H5a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 9.232A2 2 0 013 7.5V6a2 2 0 012-2h14a2 2 0 012 2v1.5a2 2 0 01-1 1.732V18a2 2 0 01-2 2H6a2 2 0 01-2-2V9.232zm1.5.268V18a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V9.5h-13z",clipRule:"evenodd"}));t.a=o},97:function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.size,c=void 0===n?24:n,o=e.onClick,i=(e.icon,e.className),s=function(e,t){var n={};for(var a in e)0<=t.indexOf(a)||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["size","onClick","icon","className"]),l=["gridicon","gridicons-notice-outline",i,(t=c,!(0!=t%18)&&"needs-offset"),!1,!1].filter(Boolean).join(" ");return r.default.createElement("svg",a({className:l,height:c,width:c,onClick:o},s,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),r.default.createElement("g",null,r.default.createElement("path",{d:"M12 4c4.41 0 8 3.59 8 8s-3.59 8-8 8-8-3.59-8-8 3.59-8 8-8m0-2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm1 13h-2v2h2v-2zm-2-2h2l.5-6h-3l.5 6z"})))};var c,o=n(7),r=(c=o)&&c.__esModule?c:{default:c};e.exports=t.default}}]);