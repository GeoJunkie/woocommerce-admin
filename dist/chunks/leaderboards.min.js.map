{"version":3,"sources":["webpack://wc.[modulename]/./client/analytics/components/leaderboard/index.js","webpack://wc.[modulename]/./client/analytics/components/leaderboard/style.scss?55a3","webpack://wc.[modulename]/./client/analytics/components/report-error/index.js","webpack://wc.[modulename]/./client/dashboard/leaderboards/index.js","webpack://wc.[modulename]/./client/dashboard/leaderboards/style.scss?4874","webpack://wc.[modulename]/./client/lib/sanitize-html/index.js"],"names":["Leaderboard","props","headers","map","header","i","isLeftAligned","hiddenByDefault","isSortable","key","label","rows","row","column","display","sanitizeHTML","value","isRequesting","isError","totalRows","title","classes","getFormattedRows","length","__","getFormattedHeaders","Component","propTypes","PropTypes","arrayOf","shape","string","id","isRequired","query","object","node","oneOfType","number","bool","defaultProps","compose","withSelect","select","filters","SETTINGS_STORE_NAME","getSetting","defaultDateRange","woocommerce_default_date_range","filterQuery","getFilterQuery","leaderboardQuery","per_page","persisted_query","getPersistedQuery","leaderboardData","getLeaderboard","ReportError","className","isEmpty","actionLabel","actionURL","actionCallback","window","location","reload","getAdminLink","renderLeaderboardToggles","allLeaderboards","hiddenBlocks","onToggleHiddenBlock","leaderboard","checked","includes","recordEvent","status","renderLeaderboards","rowsPerTable","undefined","Leaderboards","Controls","controls","isFirst","isLast","onMove","onRemove","onTitleBlur","onTitleChange","titleInput","useUserPreferences","updateUserPreferences","userPrefs","useState","parseInt","dashboard_leaderboard_rows","setRowsPerTableState","setRowsPerTable","userDataFields","renderMenu","onToggle","Array","from","v","wcAdminFeatures","ITEMS_STORE_NAME","getItems","getItemsError","leaderboards","ALLOWED_TAGS","ALLOWED_ATTR","html","__html","sanitize"],"mappings":"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","file":"chunks/leaderboards.min.js","sourcesContent":["/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Card, CardBody, CardHeader } from '@wordpress/components';\nimport { Component } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport { EmptyTable, TableCard } from '@woocommerce/components';\nimport { withSelect } from '@wordpress/data';\nimport PropTypes from 'prop-types';\nimport { getPersistedQuery } from '@woocommerce/navigation';\nimport {\n\tgetFilterQuery,\n\tgetLeaderboard,\n\tSETTINGS_STORE_NAME,\n} from '@woocommerce/data';\nimport { Text } from '@woocommerce/experimental';\n\n/**\n * Internal dependencies\n */\nimport ReportError from '../report-error';\nimport sanitizeHTML from '../../../lib/sanitize-html';\nimport './style.scss';\n\nexport class Leaderboard extends Component {\n\tgetFormattedHeaders() {\n\t\treturn this.props.headers.map( ( header, i ) => {\n\t\t\treturn {\n\t\t\t\tisLeftAligned: i === 0,\n\t\t\t\thiddenByDefault: false,\n\t\t\t\tisSortable: false,\n\t\t\t\tkey: header.label,\n\t\t\t\tlabel: header.label,\n\t\t\t};\n\t\t} );\n\t}\n\n\tgetFormattedRows() {\n\t\treturn this.props.rows.map( ( row ) => {\n\t\t\treturn row.map( ( column ) => {\n\t\t\t\treturn {\n\t\t\t\t\tdisplay: (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={ sanitizeHTML(\n\t\t\t\t\t\t\t\tcolumn.display\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tvalue: column.value,\n\t\t\t\t};\n\t\t\t} );\n\t\t} );\n\t}\n\n\trender() {\n\t\tconst { isRequesting, isError, totalRows, title } = this.props;\n\t\tconst classes = 'woocommerce-leaderboard';\n\n\t\tif ( isError ) {\n\t\t\treturn <ReportError className={ classes } isError />;\n\t\t}\n\n\t\tconst rows = this.getFormattedRows();\n\n\t\tif ( ! isRequesting && rows.length === 0 ) {\n\t\t\treturn (\n\t\t\t\t<Card className={ classes }>\n\t\t\t\t\t<CardHeader>\n\t\t\t\t\t\t<Text variant=\"title.small\" as=\"h3\">\n\t\t\t\t\t\t\t{ title }\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</CardHeader>\n\t\t\t\t\t<CardBody size={ null }>\n\t\t\t\t\t\t<EmptyTable>\n\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t'No data recorded for the selected time period.',\n\t\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</EmptyTable>\n\t\t\t\t\t</CardBody>\n\t\t\t\t</Card>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<TableCard\n\t\t\t\tclassName={ classes }\n\t\t\t\theaders={ this.getFormattedHeaders() }\n\t\t\t\tisLoading={ isRequesting }\n\t\t\t\trows={ rows }\n\t\t\t\trowsPerPage={ totalRows }\n\t\t\t\tshowMenu={ false }\n\t\t\t\ttitle={ title }\n\t\t\t\ttotalRows={ totalRows }\n\t\t\t/>\n\t\t);\n\t}\n}\n\nLeaderboard.propTypes = {\n\t/**\n\t * An array of column headers.\n\t */\n\theaders: PropTypes.arrayOf(\n\t\tPropTypes.shape( {\n\t\t\tlabel: PropTypes.string,\n\t\t} )\n\t),\n\t/**\n\t * String of leaderboard ID to display.\n\t */\n\tid: PropTypes.string.isRequired,\n\t/**\n\t * Query args added to the report table endpoint request.\n\t */\n\tquery: PropTypes.object,\n\t/**\n\t * Which column should be the row header, defaults to the first item (`0`) (see `Table` props).\n\t */\n\trows: PropTypes.arrayOf(\n\t\tPropTypes.arrayOf(\n\t\t\tPropTypes.shape( {\n\t\t\t\tdisplay: PropTypes.node,\n\t\t\t\tvalue: PropTypes.oneOfType( [\n\t\t\t\t\tPropTypes.string,\n\t\t\t\t\tPropTypes.number,\n\t\t\t\t\tPropTypes.bool,\n\t\t\t\t] ),\n\t\t\t} )\n\t\t)\n\t).isRequired,\n\t/**\n\t * String to display as the title of the table.\n\t */\n\ttitle: PropTypes.string.isRequired,\n\t/**\n\t * Number of table rows.\n\t */\n\ttotalRows: PropTypes.number.isRequired,\n};\n\nLeaderboard.defaultProps = {\n\trows: [],\n\tisError: false,\n\tisRequesting: false,\n};\n\nexport default compose(\n\twithSelect( ( select, props ) => {\n\t\tconst { id, query, totalRows, filters } = props;\n\t\tconst { woocommerce_default_date_range: defaultDateRange } = select(\n\t\t\tSETTINGS_STORE_NAME\n\t\t).getSetting( 'wc_admin', 'wcAdminSettings' );\n\t\tconst filterQuery = getFilterQuery( { filters, query } );\n\n\t\tconst leaderboardQuery = {\n\t\t\tid,\n\t\t\tper_page: totalRows,\n\t\t\tpersisted_query: getPersistedQuery( query ),\n\t\t\tquery,\n\t\t\tselect,\n\t\t\tdefaultDateRange,\n\t\t\tfilterQuery,\n\t\t};\n\t\tconst leaderboardData = getLeaderboard( leaderboardQuery );\n\n\t\treturn leaderboardData;\n\t} )\n)( Leaderboard );\n","// extracted by mini-css-extract-plugin","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport PropTypes from 'prop-types';\nimport { EmptyContent } from '@woocommerce/components';\nimport { getAdminLink } from '@woocommerce/wc-admin-settings';\n\n/**\n * Component to render when there is an error in a report component due to data\n * not being loaded or being invalid.\n */\nclass ReportError extends Component {\n\trender() {\n\t\tconst { className, isError, isEmpty } = this.props;\n\t\tlet title, actionLabel, actionURL, actionCallback;\n\n\t\tif ( isError ) {\n\t\t\ttitle = __(\n\t\t\t\t'There was an error getting your stats. Please try again.',\n\t\t\t\t'woocommerce-admin'\n\t\t\t);\n\t\t\tactionLabel = __( 'Reload', 'woocommerce-admin' );\n\t\t\tactionCallback = () => {\n\t\t\t\t// @todo Add tracking for how often an error is displayed, and the reload action is clicked.\n\t\t\t\twindow.location.reload();\n\t\t\t};\n\t\t} else if ( isEmpty ) {\n\t\t\ttitle = __(\n\t\t\t\t'No results could be found for this date range.',\n\t\t\t\t'woocommerce-admin'\n\t\t\t);\n\t\t\tactionLabel = __( 'View Orders', 'woocommerce-admin' );\n\t\t\tactionURL = getAdminLink( 'edit.php?post_type=shop_order' );\n\t\t}\n\t\treturn (\n\t\t\t<EmptyContent\n\t\t\t\tclassName={ className }\n\t\t\t\ttitle={ title }\n\t\t\t\tactionLabel={ actionLabel }\n\t\t\t\tactionURL={ actionURL }\n\t\t\t\tactionCallback={ actionCallback }\n\t\t\t/>\n\t\t);\n\t}\n}\n\nReportError.propTypes = {\n\t/**\n\t * Additional class name to style the component.\n\t */\n\tclassName: PropTypes.string,\n\t/**\n\t * Boolean representing whether there was an error.\n\t */\n\tisError: PropTypes.bool,\n\t/**\n\t * Boolean representing whether the issue is that there is no data.\n\t */\n\tisEmpty: PropTypes.bool,\n};\n\nReportError.defaultProps = {\n\tclassName: '',\n};\n\nexport default ReportError;\n","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Fragment, useState } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport PropTypes from 'prop-types';\nimport { SelectControl } from '@wordpress/components';\nimport { withSelect } from '@wordpress/data';\nimport {\n\tEllipsisMenu,\n\tMenuItem,\n\tMenuTitle,\n\tSectionHeader,\n} from '@woocommerce/components';\nimport { useUserPreferences, ITEMS_STORE_NAME } from '@woocommerce/data';\nimport { getSetting } from '@woocommerce/wc-admin-settings';\nimport { recordEvent } from '@woocommerce/tracks';\n\n/**\n * Internal dependencies\n */\nimport Leaderboard from '../../analytics/components/leaderboard';\nimport './style.scss';\n\nconst renderLeaderboardToggles = ( {\n\tallLeaderboards,\n\thiddenBlocks,\n\tonToggleHiddenBlock,\n} ) => {\n\treturn allLeaderboards.map( ( leaderboard ) => {\n\t\tconst checked = ! hiddenBlocks.includes( leaderboard.id );\n\t\treturn (\n\t\t\t<MenuItem\n\t\t\t\tchecked={ checked }\n\t\t\t\tisCheckbox\n\t\t\t\tisClickable\n\t\t\t\tkey={ leaderboard.id }\n\t\t\t\tonInvoke={ () => {\n\t\t\t\t\tonToggleHiddenBlock( leaderboard.id )();\n\t\t\t\t\trecordEvent( 'dash_leaderboards_toggle', {\n\t\t\t\t\t\tstatus: checked ? 'off' : 'on',\n\t\t\t\t\t\tkey: leaderboard.id,\n\t\t\t\t\t} );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ leaderboard.label }\n\t\t\t</MenuItem>\n\t\t);\n\t} );\n};\n\nconst renderLeaderboards = ( {\n\tallLeaderboards,\n\thiddenBlocks,\n\tquery,\n\trowsPerTable,\n\tfilters,\n} ) => {\n\treturn allLeaderboards.map( ( leaderboard ) => {\n\t\tif ( hiddenBlocks.includes( leaderboard.id ) ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn (\n\t\t\t<Leaderboard\n\t\t\t\theaders={ leaderboard.headers }\n\t\t\t\tid={ leaderboard.id }\n\t\t\t\tkey={ leaderboard.id }\n\t\t\t\tquery={ query }\n\t\t\t\ttitle={ leaderboard.label }\n\t\t\t\ttotalRows={ rowsPerTable }\n\t\t\t\tfilters={ filters }\n\t\t\t/>\n\t\t);\n\t} );\n};\n\nconst Leaderboards = ( props ) => {\n\tconst {\n\t\tallLeaderboards,\n\t\tcontrols: Controls,\n\t\tisFirst,\n\t\tisLast,\n\t\thiddenBlocks,\n\t\tonMove,\n\t\tonRemove,\n\t\tonTitleBlur,\n\t\tonTitleChange,\n\t\tonToggleHiddenBlock,\n\t\tquery,\n\t\ttitle,\n\t\ttitleInput,\n\t\tfilters,\n\t} = props;\n\tconst { updateUserPreferences, ...userPrefs } = useUserPreferences();\n\tconst [ rowsPerTable, setRowsPerTableState ] = useState(\n\t\tparseInt( userPrefs.dashboard_leaderboard_rows || 5, 10 )\n\t);\n\n\tconst setRowsPerTable = ( rows ) => {\n\t\tsetRowsPerTableState( parseInt( rows, 10 ) );\n\t\tconst userDataFields = {\n\t\t\tdashboard_leaderboard_rows: parseInt( rows, 10 ),\n\t\t};\n\t\tupdateUserPreferences( userDataFields );\n\t};\n\n\tconst renderMenu = () => (\n\t\t<EllipsisMenu\n\t\t\tlabel={ __(\n\t\t\t\t'Choose which leaderboards to display and other settings',\n\t\t\t\t'woocommerce-admin'\n\t\t\t) }\n\t\t\trenderContent={ ( { onToggle } ) => (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<MenuTitle>\n\t\t\t\t\t\t{ __( 'Leaderboards', 'woocommerce-admin' ) }\n\t\t\t\t\t</MenuTitle>\n\t\t\t\t\t{ renderLeaderboardToggles( {\n\t\t\t\t\t\tallLeaderboards,\n\t\t\t\t\t\thiddenBlocks,\n\t\t\t\t\t\tonToggleHiddenBlock,\n\t\t\t\t\t} ) }\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tclassName=\"woocommerce-dashboard__dashboard-leaderboards__select\"\n\t\t\t\t\t\tlabel={ __( 'Rows Per Table', 'woocommerce-admin' ) }\n\t\t\t\t\t\tvalue={ rowsPerTable }\n\t\t\t\t\t\toptions={ Array.from( { length: 20 }, ( v, key ) => ( {\n\t\t\t\t\t\t\tv: key + 1,\n\t\t\t\t\t\t\tlabel: key + 1,\n\t\t\t\t\t\t} ) ) }\n\t\t\t\t\t\tonChange={ setRowsPerTable }\n\t\t\t\t\t/>\n\t\t\t\t\t{ window.wcAdminFeatures[\n\t\t\t\t\t\t'analytics-dashboard/customizable'\n\t\t\t\t\t] && (\n\t\t\t\t\t\t<Controls\n\t\t\t\t\t\t\tonToggle={ onToggle }\n\t\t\t\t\t\t\tonMove={ onMove }\n\t\t\t\t\t\t\tonRemove={ onRemove }\n\t\t\t\t\t\t\tisFirst={ isFirst }\n\t\t\t\t\t\t\tisLast={ isLast }\n\t\t\t\t\t\t\tonTitleBlur={ onTitleBlur }\n\t\t\t\t\t\t\tonTitleChange={ onTitleChange }\n\t\t\t\t\t\t\ttitleInput={ titleInput }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</Fragment>\n\t\t\t) }\n\t\t/>\n\t);\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<div className=\"woocommerce-dashboard__dashboard-leaderboards\">\n\t\t\t\t<SectionHeader\n\t\t\t\t\ttitle={ title || __( 'Leaderboards', 'woocommerce-admin' ) }\n\t\t\t\t\tmenu={ renderMenu() }\n\t\t\t\t/>\n\t\t\t\t<div className=\"woocommerce-dashboard__columns\">\n\t\t\t\t\t{ renderLeaderboards( {\n\t\t\t\t\t\tallLeaderboards,\n\t\t\t\t\t\thiddenBlocks,\n\t\t\t\t\t\tquery,\n\t\t\t\t\t\trowsPerTable,\n\t\t\t\t\t\tfilters,\n\t\t\t\t\t} ) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Fragment>\n\t);\n};\n\nLeaderboards.propTypes = {\n\tquery: PropTypes.object.isRequired,\n};\n\nexport default compose(\n\twithSelect( ( select ) => {\n\t\tconst { getItems, getItemsError } = select( ITEMS_STORE_NAME );\n\t\tconst { leaderboards: allLeaderboards } = getSetting( 'dataEndpoints', {\n\t\t\tleaderboards: [],\n\t\t} );\n\n\t\treturn {\n\t\t\tallLeaderboards,\n\t\t\tgetItems,\n\t\t\tgetItemsError,\n\t\t};\n\t} )\n)( Leaderboards );\n","// extracted by mini-css-extract-plugin","/**\n * External dependencies\n */\nimport { sanitize } from 'dompurify';\n\nexport const ALLOWED_TAGS = [ 'a', 'b', 'em', 'i', 'strong', 'p', 'br' ];\nexport const ALLOWED_ATTR = [ 'target', 'href', 'rel', 'name', 'download' ];\n\nexport default ( html ) => {\n\treturn {\n\t\t__html: sanitize( html, { ALLOWED_TAGS, ALLOWED_ATTR } ),\n\t};\n};\n"],"sourceRoot":""}