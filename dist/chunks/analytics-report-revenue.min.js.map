{"version":3,"sources":["webpack://wc.[modulename]/./client/analytics/components/report-summary/index.js","webpack://wc.[modulename]/./client/analytics/report/revenue/config.js","webpack://wc.[modulename]/./client/analytics/report/revenue/index.js","webpack://wc.[modulename]/./client/analytics/report/revenue/table.js","webpack://wc.[modulename]/./client/lib/get-selected-chart/index.js"],"names":["ReportSummary","val","type","context","formatAmount","getCurrencyConfig","formatValue","key","props","emptySearchResults","summaryData","totals","primaryTotal","primary","secondaryTotal","secondary","primaryValue","secondaryValue","delta","calculateDelta","prevValue","formatVal","value","charts","query","selectedChart","endpoint","report","defaultDateRange","isError","isRequesting","length","getDateParamsFromQuery","compare","renderSummaryNumbers","onToggle","map","chart","order","orderby","label","newPath","href","getNewPath","isSelected","getValues","__","recordEvent","Component","propTypes","PropTypes","array","isRequired","string","limitProperties","object","shape","oneOf","defaultProps","contextType","CurrencyContext","compose","withSelect","select","filters","advancedFilters","limitBy","hasLimitByParam","some","item","search","fields","SETTINGS_STORE_NAME","getSetting","woocommerce_default_date_range","getSummaryNumbers","REVENUE_REPORT_CHARTS_FILTER","REVENUE_REPORT_FILTERS_FILTER","REVENUE_REPORT_ADVANCED_FILTERS_FILTER","applyFilters","RevenueReport","path","getSelectedChart","EMPTY_ARRAY","summaryFields","RevenueReportTable","getHeadersContent","bind","getRowsContent","getSummary","required","defaultSort","isLeftAligned","isSortable","isNumeric","data","dateFormat","defaultTableDateFormat","renderCurrency","render","getCurrencyFormatDecimal","formatDecimal","row","subtotals","coupons","grossSales","gross_sales","totalSales","total_sales","netRevenue","net_revenue","ordersCount","orders_count","refunds","shipping","taxes","orderLink","formatDate","date_start","display","Number","totalResults","currency","_n","tableData","formatProps","memoize","tableQuery","revenueData","items","get","stringify","join","formatTableQuery","orderBy","page","pageSize","datesFromQuery","interval","per_page","after","appendTimestamp","before","getCurrentDates","REPORTS_STORE_NAME","getReportStats","getReportStatsError","isResolving","paged","QUERY_DEFAULTS","filteredTableQuery","getReportTableQuery","Boolean","chartName","find"],"mappings":"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","file":"chunks/analytics-report-revenue.min.js","sourcesContent":["/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\nimport PropTypes from 'prop-types';\nimport { getNewPath } from '@woocommerce/navigation';\nimport {\n\tSummaryList,\n\tSummaryListPlaceholder,\n\tSummaryNumber,\n} from '@woocommerce/components';\nimport { calculateDelta, formatValue } from '@woocommerce/number';\nimport { getSummaryNumbers, SETTINGS_STORE_NAME } from '@woocommerce/data';\nimport { getDateParamsFromQuery } from '@woocommerce/date';\nimport { recordEvent } from '@woocommerce/tracks';\n\n/**\n * Internal dependencies\n */\nimport ReportError from '../report-error';\nimport { CurrencyContext } from '../../../lib/currency-context';\n\n/**\n * Component to render summary numbers in reports.\n */\nexport class ReportSummary extends Component {\n\tformatVal( val, type ) {\n\t\tconst { formatAmount, getCurrencyConfig } = this.context;\n\t\treturn type === 'currency'\n\t\t\t? formatAmount( val )\n\t\t\t: formatValue( getCurrencyConfig(), type, val );\n\t}\n\n\tgetValues( key, type ) {\n\t\tconst { emptySearchResults, summaryData } = this.props;\n\t\tconst { totals } = summaryData;\n\n\t\tconst primaryTotal = totals.primary ? totals.primary[ key ] : 0;\n\t\tconst secondaryTotal = totals.secondary ? totals.secondary[ key ] : 0;\n\n\t\tconst primaryValue = emptySearchResults ? 0 : primaryTotal;\n\t\tconst secondaryValue = emptySearchResults ? 0 : secondaryTotal;\n\n\t\treturn {\n\t\t\tdelta: calculateDelta( primaryValue, secondaryValue ),\n\t\t\tprevValue: this.formatVal( secondaryValue, type ),\n\t\t\tvalue: this.formatVal( primaryValue, type ),\n\t\t};\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tcharts,\n\t\t\tquery,\n\t\t\tselectedChart,\n\t\t\tsummaryData,\n\t\t\tendpoint,\n\t\t\treport,\n\t\t\tdefaultDateRange,\n\t\t} = this.props;\n\t\tconst { isError, isRequesting } = summaryData;\n\n\t\tif ( isError ) {\n\t\t\treturn <ReportError isError />;\n\t\t}\n\n\t\tif ( isRequesting ) {\n\t\t\treturn <SummaryListPlaceholder numberOfItems={ charts.length } />;\n\t\t}\n\n\t\tconst { compare } = getDateParamsFromQuery( query, defaultDateRange );\n\n\t\tconst renderSummaryNumbers = ( { onToggle } ) =>\n\t\t\tcharts.map( ( chart ) => {\n\t\t\t\tconst { key, order, orderby, label, type } = chart;\n\t\t\t\tconst newPath = { chart: key };\n\t\t\t\tif ( orderby ) {\n\t\t\t\t\tnewPath.orderby = orderby;\n\t\t\t\t}\n\t\t\t\tif ( order ) {\n\t\t\t\t\tnewPath.order = order;\n\t\t\t\t}\n\t\t\t\tconst href = getNewPath( newPath );\n\t\t\t\tconst isSelected = selectedChart.key === key;\n\t\t\t\tconst { delta, prevValue, value } = this.getValues( key, type );\n\n\t\t\t\treturn (\n\t\t\t\t\t<SummaryNumber\n\t\t\t\t\t\tkey={ key }\n\t\t\t\t\t\tdelta={ delta }\n\t\t\t\t\t\thref={ href }\n\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t\tprevLabel={\n\t\t\t\t\t\t\tcompare === 'previous_period'\n\t\t\t\t\t\t\t\t? __( 'Previous Period:', 'woocommerce-admin' )\n\t\t\t\t\t\t\t\t: __( 'Previous Year:', 'woocommerce-admin' )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprevValue={ prevValue }\n\t\t\t\t\t\tselected={ isSelected }\n\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\tonLinkClickCallback={ () => {\n\t\t\t\t\t\t\t// Wider than a certain breakpoint, there is no dropdown so avoid calling onToggle.\n\t\t\t\t\t\t\tif ( onToggle ) {\n\t\t\t\t\t\t\t\tonToggle();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trecordEvent( 'analytics_chart_tab_click', {\n\t\t\t\t\t\t\t\treport: report || endpoint,\n\t\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} );\n\n\t\treturn <SummaryList>{ renderSummaryNumbers }</SummaryList>;\n\t}\n}\n\nReportSummary.propTypes = {\n\t/**\n\t * Properties of all the charts available for that report.\n\t */\n\tcharts: PropTypes.array.isRequired,\n\t/**\n\t * The endpoint to use in API calls to populate the Summary Numbers.\n\t * For example, if `taxes` is provided, data will be fetched from the report\n\t * `taxes` endpoint (ie: `/wc-analytics/reports/taxes/stats`). If the provided endpoint\n\t * doesn't exist, an error will be shown to the user with `ReportError`.\n\t */\n\tendpoint: PropTypes.string.isRequired,\n\t/**\n\t * Allows specifying properties different from the `endpoint` that will be used\n\t * to limit the items when there is an active search.\n\t */\n\tlimitProperties: PropTypes.array,\n\t/**\n\t * The query string represented in object form.\n\t */\n\tquery: PropTypes.object.isRequired,\n\t/**\n\t * Properties of the selected chart.\n\t */\n\tselectedChart: PropTypes.shape( {\n\t\t/**\n\t\t * Key of the selected chart.\n\t\t */\n\t\tkey: PropTypes.string.isRequired,\n\t\t/**\n\t\t * Chart label.\n\t\t */\n\t\tlabel: PropTypes.string.isRequired,\n\t\t/**\n\t\t * Order query argument.\n\t\t */\n\t\torder: PropTypes.oneOf( [ 'asc', 'desc' ] ),\n\t\t/**\n\t\t * Order by query argument.\n\t\t */\n\t\torderby: PropTypes.string,\n\t\t/**\n\t\t * Number type for formatting.\n\t\t */\n\t\ttype: PropTypes.oneOf( [ 'average', 'number', 'currency' ] ).isRequired,\n\t} ).isRequired,\n\t/**\n\t * Data to display in the SummaryNumbers.\n\t */\n\tsummaryData: PropTypes.object,\n\t/**\n\t * Report name, if different than the endpoint.\n\t */\n\treport: PropTypes.string,\n};\n\nReportSummary.defaultProps = {\n\tsummaryData: {\n\t\ttotals: {\n\t\t\tprimary: {},\n\t\t\tsecondary: {},\n\t\t},\n\t\tisError: false,\n\t},\n};\n\nReportSummary.contextType = CurrencyContext;\n\nexport default compose(\n\twithSelect( ( select, props ) => {\n\t\tconst {\n\t\t\tcharts,\n\t\t\tendpoint,\n\t\t\tlimitProperties,\n\t\t\tquery,\n\t\t\tfilters,\n\t\t\tadvancedFilters,\n\t\t} = props;\n\t\tconst limitBy = limitProperties || [ endpoint ];\n\n\t\tconst hasLimitByParam = limitBy.some(\n\t\t\t( item ) => query[ item ] && query[ item ].length\n\t\t);\n\n\t\tif ( query.search && ! hasLimitByParam ) {\n\t\t\treturn {\n\t\t\t\temptySearchResults: true,\n\t\t\t};\n\t\t}\n\n\t\tconst fields = charts && charts.map( ( chart ) => chart.key );\n\n\t\tconst { woocommerce_default_date_range: defaultDateRange } = select(\n\t\t\tSETTINGS_STORE_NAME\n\t\t).getSetting( 'wc_admin', 'wcAdminSettings' );\n\n\t\tconst summaryData = getSummaryNumbers( {\n\t\t\tendpoint,\n\t\t\tquery,\n\t\t\tselect,\n\t\t\tlimitBy,\n\t\t\tfilters,\n\t\t\tadvancedFilters,\n\t\t\tdefaultDateRange,\n\t\t\tfields,\n\t\t} );\n\n\t\treturn {\n\t\t\tsummaryData,\n\t\t\tdefaultDateRange,\n\t\t};\n\t} )\n)( ReportSummary );\n","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { applyFilters } from '@wordpress/hooks';\n\nconst REVENUE_REPORT_CHARTS_FILTER = 'woocommerce_admin_revenue_report_charts';\nconst REVENUE_REPORT_FILTERS_FILTER =\n\t'woocommerce_admin_revenue_report_filters';\nconst REVENUE_REPORT_ADVANCED_FILTERS_FILTER =\n\t'woocommerce_admin_revenue_report_advanced_filters';\n\nexport const charts = applyFilters( REVENUE_REPORT_CHARTS_FILTER, [\n\t{\n\t\tkey: 'gross_sales',\n\t\tlabel: __( 'Gross Sales', 'woocommerce-admin' ),\n\t\torder: 'desc',\n\t\torderby: 'gross_sales',\n\t\ttype: 'currency',\n\t},\n\t{\n\t\tkey: 'refunds',\n\t\tlabel: __( 'Returns', 'woocommerce-admin' ),\n\t\torder: 'desc',\n\t\torderby: 'refunds',\n\t\ttype: 'currency',\n\t},\n\t{\n\t\tkey: 'coupons',\n\t\tlabel: __( 'Coupons', 'woocommerce-admin' ),\n\t\torder: 'desc',\n\t\torderby: 'coupons',\n\t\ttype: 'currency',\n\t},\n\t{\n\t\tkey: 'net_revenue',\n\t\tlabel: __( 'Net Sales', 'woocommerce-admin' ),\n\t\torderby: 'net_revenue',\n\t\ttype: 'currency',\n\t},\n\t{\n\t\tkey: 'taxes',\n\t\tlabel: __( 'Taxes', 'woocommerce-admin' ),\n\t\torder: 'desc',\n\t\torderby: 'taxes',\n\t\ttype: 'currency',\n\t},\n\t{\n\t\tkey: 'shipping',\n\t\tlabel: __( 'Shipping', 'woocommerce-admin' ),\n\t\torderby: 'shipping',\n\t\ttype: 'currency',\n\t},\n\t{\n\t\tkey: 'total_sales',\n\t\tlabel: __( 'Total Sales', 'woocommerce-admin' ),\n\t\torder: 'desc',\n\t\torderby: 'total_sales',\n\t\ttype: 'currency',\n\t},\n] );\n\nexport const filters = applyFilters( REVENUE_REPORT_FILTERS_FILTER, [] );\nexport const advancedFilters = applyFilters(\n\tREVENUE_REPORT_ADVANCED_FILTERS_FILTER,\n\t{}\n);\n","/**\n * External dependencies\n */\nimport { Component, Fragment } from '@wordpress/element';\nimport PropTypes from 'prop-types';\n\n/**\n * Internal dependencies\n */\nimport { advancedFilters, charts, filters } from './config';\nimport getSelectedChart from '../../../lib/get-selected-chart';\nimport ReportChart from '../../components/report-chart';\nimport ReportSummary from '../../components/report-summary';\nimport RevenueReportTable from './table';\nimport ReportFilters from '../../components/report-filters';\n\nexport default class RevenueReport extends Component {\n\trender() {\n\t\tconst { path, query } = this.props;\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<ReportFilters\n\t\t\t\t\tquery={ query }\n\t\t\t\t\tpath={ path }\n\t\t\t\t\treport=\"revenue\"\n\t\t\t\t\tfilters={ filters }\n\t\t\t\t\tadvancedFilters={ advancedFilters }\n\t\t\t\t/>\n\t\t\t\t<ReportSummary\n\t\t\t\t\tcharts={ charts }\n\t\t\t\t\tendpoint=\"revenue\"\n\t\t\t\t\tquery={ query }\n\t\t\t\t\tselectedChart={ getSelectedChart( query.chart, charts ) }\n\t\t\t\t\tfilters={ filters }\n\t\t\t\t\tadvancedFilters={ advancedFilters }\n\t\t\t\t/>\n\t\t\t\t<ReportChart\n\t\t\t\t\tcharts={ charts }\n\t\t\t\t\tendpoint=\"revenue\"\n\t\t\t\t\tpath={ path }\n\t\t\t\t\tquery={ query }\n\t\t\t\t\tselectedChart={ getSelectedChart( query.chart, charts ) }\n\t\t\t\t\tfilters={ filters }\n\t\t\t\t\tadvancedFilters={ advancedFilters }\n\t\t\t\t/>\n\t\t\t\t<RevenueReportTable\n\t\t\t\t\tquery={ query }\n\t\t\t\t\tfilters={ filters }\n\t\t\t\t\tadvancedFilters={ advancedFilters }\n\t\t\t\t/>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nRevenueReport.propTypes = {\n\tpath: PropTypes.string.isRequired,\n\tquery: PropTypes.object.isRequired,\n};\n","/**\n * External dependencies\n */\nimport { __, _n } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { format as formatDate } from '@wordpress/date';\nimport { withSelect } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { get, memoize } from 'lodash';\nimport { Date, Link } from '@woocommerce/components';\nimport { formatValue } from '@woocommerce/number';\nimport { getSetting } from '@woocommerce/wc-admin-settings';\nimport {\n\tgetReportTableQuery,\n\tREPORTS_STORE_NAME,\n\tSETTINGS_STORE_NAME,\n\tQUERY_DEFAULTS,\n} from '@woocommerce/data';\nimport {\n\tappendTimestamp,\n\tdefaultTableDateFormat,\n\tgetCurrentDates,\n} from '@woocommerce/date';\nimport { stringify } from 'qs';\n\n/**\n * Internal dependencies\n */\nimport ReportTable from '../../components/report-table';\nimport { CurrencyContext } from '../../../lib/currency-context';\n\nconst EMPTY_ARRAY = [];\n\nconst summaryFields = [\n\t'orders_count',\n\t'gross_sales',\n\t'total_sales',\n\t'refunds',\n\t'coupons',\n\t'taxes',\n\t'shipping',\n\t'net_revenue',\n];\n\nclass RevenueReportTable extends Component {\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.getHeadersContent = this.getHeadersContent.bind( this );\n\t\tthis.getRowsContent = this.getRowsContent.bind( this );\n\t\tthis.getSummary = this.getSummary.bind( this );\n\t}\n\n\tgetHeadersContent() {\n\t\treturn [\n\t\t\t{\n\t\t\t\tlabel: __( 'Date', 'woocommerce-admin' ),\n\t\t\t\tkey: 'date',\n\t\t\t\trequired: true,\n\t\t\t\tdefaultSort: true,\n\t\t\t\tisLeftAligned: true,\n\t\t\t\tisSortable: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __( 'Orders', 'woocommerce-admin' ),\n\t\t\t\tkey: 'orders_count',\n\t\t\t\trequired: false,\n\t\t\t\tisSortable: true,\n\t\t\t\tisNumeric: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __( 'Gross Sales', 'woocommerce-admin' ),\n\t\t\t\tkey: 'gross_sales',\n\t\t\t\trequired: false,\n\t\t\t\tisSortable: true,\n\t\t\t\tisNumeric: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __( 'Returns', 'woocommerce-admin' ),\n\t\t\t\tkey: 'refunds',\n\t\t\t\trequired: false,\n\t\t\t\tisSortable: true,\n\t\t\t\tisNumeric: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __( 'Coupons', 'woocommerce-admin' ),\n\t\t\t\tkey: 'coupons',\n\t\t\t\trequired: false,\n\t\t\t\tisSortable: true,\n\t\t\t\tisNumeric: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __( 'Net Sales', 'woocommerce-admin' ),\n\t\t\t\tkey: 'net_revenue',\n\t\t\t\trequired: false,\n\t\t\t\tisSortable: true,\n\t\t\t\tisNumeric: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __( 'Taxes', 'woocommerce-admin' ),\n\t\t\t\tkey: 'taxes',\n\t\t\t\trequired: false,\n\t\t\t\tisSortable: true,\n\t\t\t\tisNumeric: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __( 'Shipping', 'woocommerce-admin' ),\n\t\t\t\tkey: 'shipping',\n\t\t\t\trequired: false,\n\t\t\t\tisSortable: true,\n\t\t\t\tisNumeric: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __( 'Total Sales', 'woocommerce-admin' ),\n\t\t\t\tkey: 'total_sales',\n\t\t\t\trequired: false,\n\t\t\t\tisSortable: true,\n\t\t\t\tisNumeric: true,\n\t\t\t},\n\t\t];\n\t}\n\n\tgetRowsContent( data = [] ) {\n\t\tconst dateFormat = getSetting( 'dateFormat', defaultTableDateFormat );\n\t\tconst {\n\t\t\tformatAmount,\n\t\t\trender: renderCurrency,\n\t\t\tformatDecimal: getCurrencyFormatDecimal,\n\t\t\tgetCurrencyConfig,\n\t\t} = this.context;\n\n\t\treturn data.map( ( row ) => {\n\t\t\tconst {\n\t\t\t\tcoupons,\n\t\t\t\tgross_sales: grossSales,\n\t\t\t\ttotal_sales: totalSales,\n\t\t\t\tnet_revenue: netRevenue,\n\t\t\t\torders_count: ordersCount,\n\t\t\t\trefunds,\n\t\t\t\tshipping,\n\t\t\t\ttaxes,\n\t\t\t} = row.subtotals;\n\n\t\t\t// @todo How to create this per-report? Can use `w`, `year`, `m` to build time-specific order links\n\t\t\t// we need to know which kind of report this is, and parse the `label` to get this row's date\n\t\t\tconst orderLink = (\n\t\t\t\t<Link\n\t\t\t\t\thref={\n\t\t\t\t\t\t'edit.php?post_type=shop_order&m=' +\n\t\t\t\t\t\tformatDate( 'Ymd', row.date_start )\n\t\t\t\t\t}\n\t\t\t\t\ttype=\"wp-admin\"\n\t\t\t\t>\n\t\t\t\t\t{ formatValue(\n\t\t\t\t\t\tgetCurrencyConfig(),\n\t\t\t\t\t\t'number',\n\t\t\t\t\t\tordersCount\n\t\t\t\t\t) }\n\t\t\t\t</Link>\n\t\t\t);\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tdisplay: (\n\t\t\t\t\t\t<Date\n\t\t\t\t\t\t\tdate={ row.date_start }\n\t\t\t\t\t\t\tvisibleFormat={ dateFormat }\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tvalue: row.date_start,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplay: orderLink,\n\t\t\t\t\tvalue: Number( ordersCount ),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplay: renderCurrency( grossSales ),\n\t\t\t\t\tvalue: getCurrencyFormatDecimal( grossSales ),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplay: formatAmount( refunds ),\n\t\t\t\t\tvalue: getCurrencyFormatDecimal( refunds ),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplay: formatAmount( coupons ),\n\t\t\t\t\tvalue: getCurrencyFormatDecimal( coupons ),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplay: renderCurrency( netRevenue ),\n\t\t\t\t\tvalue: getCurrencyFormatDecimal( netRevenue ),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplay: renderCurrency( taxes ),\n\t\t\t\t\tvalue: getCurrencyFormatDecimal( taxes ),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplay: renderCurrency( shipping ),\n\t\t\t\t\tvalue: getCurrencyFormatDecimal( shipping ),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplay: renderCurrency( totalSales ),\n\t\t\t\t\tvalue: getCurrencyFormatDecimal( totalSales ),\n\t\t\t\t},\n\t\t\t];\n\t\t} );\n\t}\n\n\tgetSummary( totals, totalResults = 0 ) {\n\t\tconst {\n\t\t\torders_count: ordersCount = 0,\n\t\t\tgross_sales: grossSales = 0,\n\t\t\ttotal_sales: totalSales = 0,\n\t\t\trefunds = 0,\n\t\t\tcoupons = 0,\n\t\t\ttaxes = 0,\n\t\t\tshipping = 0,\n\t\t\tnet_revenue: netRevenue = 0,\n\t\t} = totals;\n\t\tconst { formatAmount, getCurrencyConfig } = this.context;\n\t\tconst currency = getCurrencyConfig();\n\t\treturn [\n\t\t\t{\n\t\t\t\tlabel: _n( 'day', 'days', totalResults, 'woocommerce-admin' ),\n\t\t\t\tvalue: formatValue( currency, 'number', totalResults ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: _n(\n\t\t\t\t\t'order',\n\t\t\t\t\t'orders',\n\t\t\t\t\tordersCount,\n\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t),\n\t\t\t\tvalue: formatValue( currency, 'number', ordersCount ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __( 'gross sales', 'woocommerce-admin' ),\n\t\t\t\tvalue: formatAmount( grossSales ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __( 'returns', 'woocommerce-admin' ),\n\t\t\t\tvalue: formatAmount( refunds ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __( 'coupons', 'woocommerce-admin' ),\n\t\t\t\tvalue: formatAmount( coupons ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __( 'net sales', 'woocommerce-admin' ),\n\t\t\t\tvalue: formatAmount( netRevenue ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __( 'taxes', 'woocommerce-admin' ),\n\t\t\t\tvalue: formatAmount( taxes ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __( 'shipping', 'woocommerce-admin' ),\n\t\t\t\tvalue: formatAmount( shipping ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __( 'total sales', 'woocommerce-admin' ),\n\t\t\t\tvalue: formatAmount( totalSales ),\n\t\t\t},\n\t\t];\n\t}\n\n\trender() {\n\t\tconst { advancedFilters, filters, tableData, query } = this.props;\n\n\t\treturn (\n\t\t\t<ReportTable\n\t\t\t\tendpoint=\"revenue\"\n\t\t\t\tgetHeadersContent={ this.getHeadersContent }\n\t\t\t\tgetRowsContent={ this.getRowsContent }\n\t\t\t\tgetSummary={ this.getSummary }\n\t\t\t\tsummaryFields={ summaryFields }\n\t\t\t\tquery={ query }\n\t\t\t\ttableData={ tableData }\n\t\t\t\ttitle={ __( 'Revenue', 'woocommerce-admin' ) }\n\t\t\t\tcolumnPrefsKey=\"revenue_report_columns\"\n\t\t\t\tfilters={ filters }\n\t\t\t\tadvancedFilters={ advancedFilters }\n\t\t\t/>\n\t\t);\n\t}\n}\n\nRevenueReportTable.contextType = CurrencyContext;\n\n/**\n * Memoized props object formatting function.\n *\n * @param {boolean} isError\n * @param {boolean} isRequesting\n * @param {Object} tableQuery\n * @param {Object} revenueData\n * @return {Object} formatted tableData prop\n */\nconst formatProps = memoize(\n\t( isError, isRequesting, tableQuery, revenueData ) => ( {\n\t\ttableData: {\n\t\t\titems: {\n\t\t\t\tdata: get( revenueData, [ 'data', 'intervals' ], EMPTY_ARRAY ),\n\t\t\t\ttotalResults: get( revenueData, [ 'totalResults' ], 0 ),\n\t\t\t},\n\t\t\tisError,\n\t\t\tisRequesting,\n\t\t\tquery: tableQuery,\n\t\t},\n\t} ),\n\t( isError, isRequesting, tableQuery, revenueData ) =>\n\t\t[\n\t\t\tisError,\n\t\t\tisRequesting,\n\t\t\tstringify( tableQuery ),\n\t\t\tget( revenueData, [ 'totalResults' ], 0 ),\n\t\t\tget( revenueData, [ 'data', 'intervals' ], EMPTY_ARRAY ).length,\n\t\t].join( ':' )\n);\n\n/**\n * Memoized table query formatting function.\n *\n * @param {string} order\n * @param {string} orderBy\n * @param {number} page\n * @param {number} pageSize\n * @param {Object} datesFromQuery\n * @return {Object} formatted tableQuery object\n */\nconst formatTableQuery = memoize(\n\t// @todo Support hour here when viewing a single day\n\t( order, orderBy, page, pageSize, datesFromQuery ) => ( {\n\t\tinterval: 'day',\n\t\torderby: orderBy,\n\t\torder,\n\t\tpage,\n\t\tper_page: pageSize,\n\t\tafter: appendTimestamp( datesFromQuery.primary.after, 'start' ),\n\t\tbefore: appendTimestamp( datesFromQuery.primary.before, 'end' ),\n\t} ),\n\t( order, orderBy, page, pageSize, datesFromQuery ) =>\n\t\t[\n\t\t\torder,\n\t\t\torderBy,\n\t\t\tpage,\n\t\t\tpageSize,\n\t\t\tdatesFromQuery.primary.after,\n\t\t\tdatesFromQuery.primary.before,\n\t\t].join( ':' )\n);\n\nexport default compose(\n\twithSelect( ( select, props ) => {\n\t\tconst { query, filters, advancedFilters } = props;\n\t\tconst { woocommerce_default_date_range: defaultDateRange } = select(\n\t\t\tSETTINGS_STORE_NAME\n\t\t).getSetting( 'wc_admin', 'wcAdminSettings' );\n\t\tconst datesFromQuery = getCurrentDates( query, defaultDateRange );\n\t\tconst { getReportStats, getReportStatsError, isResolving } = select(\n\t\t\tREPORTS_STORE_NAME\n\t\t);\n\n\t\tconst tableQuery = formatTableQuery(\n\t\t\tquery.order || 'desc',\n\t\t\tquery.orderby || 'date',\n\t\t\tquery.paged || 1,\n\t\t\tquery.per_page || QUERY_DEFAULTS.pageSize,\n\t\t\tdatesFromQuery\n\t\t);\n\t\tconst filteredTableQuery = getReportTableQuery( {\n\t\t\tendpoint: 'revenue',\n\t\t\tquery,\n\t\t\tselect,\n\t\t\ttableQuery,\n\t\t\tfilters,\n\t\t\tadvancedFilters,\n\t\t} );\n\t\tconst revenueData = getReportStats( 'revenue', filteredTableQuery );\n\t\tconst isError = Boolean(\n\t\t\tgetReportStatsError( 'revenue', filteredTableQuery )\n\t\t);\n\t\tconst isRequesting = isResolving( 'getReportStats', [\n\t\t\t'revenue',\n\t\t\tfilteredTableQuery,\n\t\t] );\n\n\t\treturn formatProps( isError, isRequesting, tableQuery, revenueData );\n\t} )\n)( RevenueReportTable );\n","/**\n * External dependencies\n */\nimport { find } from 'lodash';\n\n/**\n * Takes a chart name returns the configuration for that chart from and array\n * of charts. If the chart is not found it will return the first chart.\n *\n * @param {string} chartName - the name of the chart to get configuration for\n * @param {Array} charts - list of charts for a particular report\n * @return {Object} - chart configuration object\n */\nexport default function getSelectedChart( chartName, charts = [] ) {\n\tconst chart = find( charts, { key: chartName } );\n\tif ( chart ) {\n\t\treturn chart;\n\t}\n\treturn charts[ 0 ];\n}\n"],"sourceRoot":""}