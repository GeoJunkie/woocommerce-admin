{"version":3,"sources":["webpack://wc.[modulename]/./client/analytics/settings/config.js","webpack://wc.[modulename]/./client/analytics/settings/default-date.js","webpack://wc.[modulename]/./client/analytics/settings/historical-data/actions.js","webpack://wc.[modulename]/./client/analytics/settings/historical-data/index.js","webpack://wc.[modulename]/./client/analytics/settings/historical-data/layout.js","webpack://wc.[modulename]/./client/analytics/settings/historical-data/period-selector.js","webpack://wc.[modulename]/./client/analytics/settings/historical-data/progress.js","webpack://wc.[modulename]/./client/analytics/settings/historical-data/skip-checkbox.js","webpack://wc.[modulename]/./client/analytics/settings/historical-data/status.js","webpack://wc.[modulename]/./client/analytics/settings/historical-data/style.scss?f00c","webpack://wc.[modulename]/./client/analytics/settings/historical-data/utils.js","webpack://wc.[modulename]/./client/analytics/settings/index.js","webpack://wc.[modulename]/./client/analytics/settings/index.scss?33f9","webpack://wc.[modulename]/./client/analytics/settings/setting.js","webpack://wc.[modulename]/./client/analytics/settings/setting.scss?9020"],"names":["SETTINGS_FILTER","DEFAULT_ACTIONABLE_STATUSES","DEFAULT_ORDER_STATUSES","DEFAULT_DATE_RANGE","filteredOrderStatuses","Object","keys","ORDER_STATUSES","filter","status","map","key","value","label","description","sprintf","__","unregisteredOrderStatuses","getSetting","orderStatusOptions","options","includes","config","applyFilters","woocommerce_excluded_report_order_statuses","inputType","helpText","interpolateComponents","mixedString","components","strong","defaultValue","woocommerce_actionable_order_statuses","woocommerce_default_date_range","name","component","DefaultDate","onChange","useSettings","wcAdminSettings","defaultDateRange","change","query","target","stringify","parse","replace","getDateParamsFromQuery","period","compare","before","after","getCurrentDates","primaryDate","primary","secondaryDate","secondary","dateQuery","isoDateFormat","HistoricalDataActions","clearStatusAndTotalsCache","createNotice","dateFormat","importDate","onImportStarted","selectedPeriod","stopImport","skipChecked","setImportStarted","updateImportation","onStartImport","path","addQueryArgs","formatParams","errorMessage","importStarted","makeQuery","onStopImport","then","response","message","catch","error","deletePreviousData","recordEvent","reimportData","getActions","importDisabled","compose","withSelect","select","IMPORT_STORE_NAME","getFormSettings","skipPrevious","withDispatch","dispatch","HistoricalData","arguments","intervalId","lastImportStopTimestamp","cacheNeedsClearing","onImportFinished","bind","startStatusCheckInterval","cancelStatusCheckInterval","setInterval","clearCache","SECOND","clearInterval","resolver","props","invalidateResolution","lastImportStartTimestamp","preparedQuery","Date","now","debouncedSpeak","notes","updateNote","historicalDataNote","find","note","id","params","activeImport","isImportationInProgress","Component","NOTES_STORE_NAME","getNotes","getImportStarted","notesQuery","page","per_page","QUERY_DEFAULTS","pageSize","type","withSpokenMessages","HistoricalDataLayout","customersProgress","customersTotal","inProgress","ordersProgress","ordersTotal","getImportError","getImportStatus","getImportTotals","customers","orders","customersStatus","imported_from","isImporting","is_importing","ordersStatus","imported","total","isError","Boolean","hasImportStarted","hasImportFinished","isNil","getStatus","HistoricalDataPeriodSelector","disabled","setImportPeriod","onSelectChange","val","onDatePickerChange","dateModified","date","isValid","format","text","getDatePickerError","momentDate","length","dateValidationMessages","invalid","isAfter","future","getDatePicker","moment","toDate","HistoricalDataProgress","progress","labelText","labelCounters","HistoricalDataSkipCheckbox","checked","setSkipPrevious","skipChange","HISTORICAL_DATA_STATUS_FILTER","HistoricalDataStatus","statusLabels","nothing","ready","initializing","finalizing","finished","skip_existing","daysDifference","diff","days","Math","floor","parseInt","Settings","settingsError","isRequesting","isDirty","persistSettings","updateAndPersistSettings","updateSettings","hasSaved","useRef","useEffect","warnIfUnsavedChanges","event","returnValue","window","addEventListener","removeEventListener","current","resetDefaults","confirm","resetSettings","reduce","result","setting","saveChanges","undefined","interval","wpNavMenuUrlUpdate","handleInputChange","e","nextSettings","v","import","Setting","handleChange","inputText","state","optionGroup","renderCheckboxOptions","handleInputCallback","SettingComponent","uniqueId","callback","Promise","resolve","reject","setState","option","renderInput","propTypes","PropTypes","func","isRequired","oneOfType","string","array","oneOf","arrayOf","shape"],"mappings":"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","file":"chunks/analytics-settings.min.js","sourcesContent":["/**\n * External dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { applyFilters } from '@wordpress/hooks';\nimport interpolateComponents from 'interpolate-components';\nimport { getSetting, ORDER_STATUSES } from '@woocommerce/wc-admin-settings';\n\n/**\n * Internal dependencies\n */\nimport DefaultDate from './default-date';\n\nconst SETTINGS_FILTER = 'woocommerce_admin_analytics_settings';\nexport const DEFAULT_ACTIONABLE_STATUSES = [ 'processing', 'on-hold' ];\nexport const DEFAULT_ORDER_STATUSES = [\n\t'completed',\n\t'processing',\n\t'refunded',\n\t'cancelled',\n\t'failed',\n\t'pending',\n\t'on-hold',\n];\nexport const DEFAULT_DATE_RANGE = 'period=month&compare=previous_year';\n\nconst filteredOrderStatuses = Object.keys( ORDER_STATUSES )\n\t.filter( ( status ) => status !== 'refunded' )\n\t.map( ( key ) => {\n\t\treturn {\n\t\t\tvalue: key,\n\t\t\tlabel: ORDER_STATUSES[ key ],\n\t\t\tdescription: sprintf(\n\t\t\t\t__( 'Exclude the %s status from reports', 'woocommerce-admin' ),\n\t\t\t\tORDER_STATUSES[ key ]\n\t\t\t),\n\t\t};\n\t} );\n\nconst unregisteredOrderStatuses = getSetting( 'unregisteredOrderStatuses', {} );\n\nconst orderStatusOptions = [\n\t{\n\t\tkey: 'defaultStatuses',\n\t\toptions: filteredOrderStatuses.filter( ( status ) =>\n\t\t\tDEFAULT_ORDER_STATUSES.includes( status.value )\n\t\t),\n\t},\n\t{\n\t\tkey: 'customStatuses',\n\t\tlabel: __( 'Custom Statuses', 'woocommerce-admin' ),\n\t\toptions: filteredOrderStatuses.filter(\n\t\t\t( status ) => ! DEFAULT_ORDER_STATUSES.includes( status.value )\n\t\t),\n\t},\n\t{\n\t\tkey: 'unregisteredStatuses',\n\t\tlabel: __( 'Unregistered Statuses', 'woocommerce-admin' ),\n\t\toptions: Object.keys( unregisteredOrderStatuses ).map( ( key ) => {\n\t\t\treturn {\n\t\t\t\tvalue: key,\n\t\t\t\tlabel: key,\n\t\t\t\tdescription: sprintf(\n\t\t\t\t\t__(\n\t\t\t\t\t\t'Exclude the %s status from reports',\n\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t),\n\t\t\t\t\tkey\n\t\t\t\t),\n\t\t\t};\n\t\t} ),\n\t},\n];\n\nexport const config = applyFilters( SETTINGS_FILTER, {\n\twoocommerce_excluded_report_order_statuses: {\n\t\tlabel: __( 'Excluded Statuses:', 'woocommerce-admin' ),\n\t\tinputType: 'checkboxGroup',\n\t\toptions: orderStatusOptions,\n\t\thelpText: interpolateComponents( {\n\t\t\tmixedString: __(\n\t\t\t\t'Orders with these statuses are excluded from the totals in your reports. ' +\n\t\t\t\t\t'The {{strong}}Refunded{{/strong}} status can not be excluded.',\n\t\t\t\t'woocommerce-admin'\n\t\t\t),\n\t\t\tcomponents: {\n\t\t\t\tstrong: <strong />,\n\t\t\t},\n\t\t} ),\n\t\tdefaultValue: [ 'pending', 'cancelled', 'failed' ],\n\t},\n\twoocommerce_actionable_order_statuses: {\n\t\tlabel: __( 'Actionable Statuses:', 'woocommerce-admin' ),\n\t\tinputType: 'checkboxGroup',\n\t\toptions: orderStatusOptions,\n\t\thelpText: __(\n\t\t\t'Orders with these statuses require action on behalf of the store admin. ' +\n\t\t\t\t'These orders will show up in the Home Screen - Orders task.',\n\t\t\t'woocommerce-admin'\n\t\t),\n\t\tdefaultValue: DEFAULT_ACTIONABLE_STATUSES,\n\t},\n\twoocommerce_default_date_range: {\n\t\tname: 'woocommerce_default_date_range',\n\t\tlabel: __( 'Default Date Range:', 'woocommerce-admin' ),\n\t\tinputType: 'component',\n\t\tcomponent: DefaultDate,\n\t\thelpText: __(\n\t\t\t'Select a default date range. When no range is selected, reports will be viewed by ' +\n\t\t\t\t'the default date range.',\n\t\t\t'woocommerce-admin'\n\t\t),\n\t\tdefaultValue: DEFAULT_DATE_RANGE,\n\t},\n} );\n","/**\n * External dependencies\n */\nimport { parse, stringify } from 'qs';\nimport { DateRangeFilterPicker } from '@woocommerce/components';\nimport { useSettings } from '@woocommerce/data';\nimport {\n\tgetCurrentDates,\n\tgetDateParamsFromQuery,\n\tisoDateFormat,\n} from '@woocommerce/date';\n\nconst DefaultDate = ( { value, onChange } ) => {\n\tconst { wcAdminSettings } = useSettings( 'wc_admin', [\n\t\t'wcAdminSettings',\n\t] );\n\tconst {\n\t\twoocommerce_default_date_range: defaultDateRange,\n\t} = wcAdminSettings;\n\tconst change = ( query ) => {\n\t\tonChange( {\n\t\t\ttarget: {\n\t\t\t\tname: 'woocommerce_default_date_range',\n\t\t\t\tvalue: stringify( query ),\n\t\t\t},\n\t\t} );\n\t};\n\tconst query = parse( value.replace( /&amp;/g, '&' ) );\n\tconst { period, compare, before, after } = getDateParamsFromQuery(\n\t\tquery,\n\t\tdefaultDateRange\n\t);\n\tconst { primary: primaryDate, secondary: secondaryDate } = getCurrentDates(\n\t\tquery,\n\t\tdefaultDateRange\n\t);\n\tconst dateQuery = {\n\t\tperiod,\n\t\tcompare,\n\t\tbefore,\n\t\tafter,\n\t\tprimaryDate,\n\t\tsecondaryDate,\n\t};\n\treturn (\n\t\t<DateRangeFilterPicker\n\t\t\tquery={ query }\n\t\t\tonRangeSelect={ change }\n\t\t\tdateQuery={ dateQuery }\n\t\t\tisoDateFormat={ isoDateFormat }\n\t\t/>\n\t);\n};\n\nexport default DefaultDate;\n","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { addQueryArgs } from '@wordpress/url';\nimport { Button } from '@wordpress/components';\nimport { Fragment } from '@wordpress/element';\nimport { IMPORT_STORE_NAME } from '@woocommerce/data';\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { recordEvent } from '@woocommerce/tracks';\n\n/**\n * Internal dependencies\n */\nimport { formatParams } from './utils';\n\nfunction HistoricalDataActions( {\n\tclearStatusAndTotalsCache,\n\tcreateNotice,\n\tdateFormat,\n\timportDate,\n\tonImportStarted,\n\tselectedPeriod,\n\tstopImport,\n\tskipChecked,\n\tstatus,\n\tsetImportStarted,\n\tupdateImportation,\n} ) {\n\tconst onStartImport = () => {\n\t\tconst path = addQueryArgs(\n\t\t\t'/wc-analytics/reports/import',\n\t\t\tformatParams( dateFormat, selectedPeriod, skipChecked )\n\t\t);\n\t\tconst errorMessage = __(\n\t\t\t'There was a problem rebuilding your report data.',\n\t\t\t'woocommerce-admin'\n\t\t);\n\n\t\tconst importStarted = true;\n\t\tmakeQuery( path, errorMessage, importStarted );\n\t\tonImportStarted();\n\t};\n\n\tconst onStopImport = () => {\n\t\tstopImport();\n\t\tconst path = '/wc-analytics/reports/import/cancel';\n\t\tconst errorMessage = __(\n\t\t\t'There was a problem stopping your current import.',\n\t\t\t'woocommerce-admin'\n\t\t);\n\t\tmakeQuery( path, errorMessage );\n\t};\n\n\tconst makeQuery = ( path, errorMessage, importStarted = false ) => {\n\t\tupdateImportation( path, importStarted )\n\t\t\t.then( ( response ) => {\n\t\t\t\tif ( response.status === 'success' ) {\n\t\t\t\t\tcreateNotice( 'success', response.message );\n\t\t\t\t} else {\n\t\t\t\t\tcreateNotice( 'error', errorMessage );\n\t\t\t\t\tsetImportStarted( false );\n\t\t\t\t\tstopImport();\n\t\t\t\t}\n\t\t\t} )\n\t\t\t.catch( ( error ) => {\n\t\t\t\tif ( error && error.message ) {\n\t\t\t\t\tcreateNotice( 'error', error.message );\n\t\t\t\t\tsetImportStarted( false );\n\t\t\t\t\tstopImport();\n\t\t\t\t}\n\t\t\t} );\n\t};\n\n\tconst deletePreviousData = () => {\n\t\tconst path = '/wc-analytics/reports/import/delete';\n\t\tconst errorMessage = __(\n\t\t\t'There was a problem deleting your previous data.',\n\t\t\t'woocommerce-admin'\n\t\t);\n\t\tmakeQuery( path, errorMessage );\n\n\t\trecordEvent( 'analytics_import_delete_previous' );\n\n\t\tsetImportStarted( false );\n\t};\n\tconst reimportData = () => {\n\t\tsetImportStarted( false );\n\t\t// We need to clear the cache of the selectors `getImportTotals` and `getImportStatus`\n\t\tclearStatusAndTotalsCache();\n\t};\n\tconst getActions = () => {\n\t\tconst importDisabled = status !== 'ready';\n\n\t\t// An import is currently in progress\n\t\tif (\n\t\t\t[ 'initializing', 'customers', 'orders', 'finalizing' ].includes(\n\t\t\t\tstatus\n\t\t\t)\n\t\t) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName=\"woocommerce-settings-historical-data__action-button\"\n\t\t\t\t\t\tisPrimary\n\t\t\t\t\t\tonClick={ onStopImport }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Stop Import', 'woocommerce-admin' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<div className=\"woocommerce-setting__help woocommerce-settings-historical-data__action-help\">\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'Imported data will not be lost if the import is stopped.',\n\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'Navigating away from this page will not affect the import.',\n\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t}\n\n\t\tif ( [ 'ready', 'nothing' ].includes( status ) ) {\n\t\t\tif ( importDate ) {\n\t\t\t\treturn (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisPrimary\n\t\t\t\t\t\t\tonClick={ onStartImport }\n\t\t\t\t\t\t\tdisabled={ importDisabled }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Start', 'woocommerce-admin' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button isSecondary onClick={ deletePreviousData }>\n\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t'Delete Previously Imported Data',\n\t\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Fragment>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tisPrimary\n\t\t\t\t\t\tonClick={ onStartImport }\n\t\t\t\t\t\tdisabled={ importDisabled }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Start', 'woocommerce-admin' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t}\n\n\t\tif ( status === 'error' ) {\n\t\t\tcreateNotice(\n\t\t\t\t'error',\n\t\t\t\t__(\n\t\t\t\t\t'Something went wrong with the importation process.',\n\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\t// Has imported all possible data\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<Button isSecondary onClick={ reimportData }>\n\t\t\t\t\t{ __( 'Re-import Data', 'woocommerce-admin' ) }\n\t\t\t\t</Button>\n\t\t\t\t<Button isSecondary onClick={ deletePreviousData }>\n\t\t\t\t\t{ __(\n\t\t\t\t\t\t'Delete Previously Imported Data',\n\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t) }\n\t\t\t\t</Button>\n\t\t\t</Fragment>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className=\"woocommerce-settings__actions woocommerce-settings-historical-data__actions\">\n\t\t\t{ getActions() }\n\t\t</div>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { getFormSettings } = select( IMPORT_STORE_NAME );\n\n\t\tconst {\n\t\t\tperiod: selectedPeriod,\n\t\t\tskipPrevious: skipChecked,\n\t\t} = getFormSettings();\n\n\t\treturn {\n\t\t\tselectedPeriod,\n\t\t\tskipChecked,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { updateImportation, setImportStarted } = dispatch(\n\t\t\tIMPORT_STORE_NAME\n\t\t);\n\t\tconst { createNotice } = dispatch( 'core/notices' );\n\t\treturn {\n\t\t\tcreateNotice,\n\t\t\tsetImportStarted,\n\t\t\tupdateImportation,\n\t\t};\n\t} ),\n] )( HistoricalDataActions );\n","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport {\n\tIMPORT_STORE_NAME,\n\tNOTES_STORE_NAME,\n\tQUERY_DEFAULTS,\n\tSECOND,\n} from '@woocommerce/data';\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport { withSpokenMessages } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { formatParams } from './utils';\nimport HistoricalDataLayout from './layout';\n\nclass HistoricalData extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.dateFormat = __( 'MM/DD/YYYY', 'woocommerce-admin' );\n\t\tthis.intervalId = -1;\n\t\tthis.lastImportStopTimestamp = 0;\n\t\tthis.cacheNeedsClearing = true;\n\n\t\tthis.onImportFinished = this.onImportFinished.bind( this );\n\t\tthis.onImportStarted = this.onImportStarted.bind( this );\n\t\tthis.clearStatusAndTotalsCache = this.clearStatusAndTotalsCache.bind(\n\t\t\tthis\n\t\t);\n\t\tthis.stopImport = this.stopImport.bind( this );\n\t\tthis.startStatusCheckInterval = this.startStatusCheckInterval.bind(\n\t\t\tthis\n\t\t);\n\t\tthis.cancelStatusCheckInterval = this.cancelStatusCheckInterval.bind(\n\t\t\tthis\n\t\t);\n\t}\n\n\tstartStatusCheckInterval() {\n\t\tif ( this.intervalId < 0 ) {\n\t\t\tthis.cacheNeedsClearing = true;\n\t\t\tthis.intervalId = setInterval( () => {\n\t\t\t\tthis.clearCache( 'getImportStatus' );\n\t\t\t}, 3 * SECOND );\n\t\t}\n\t}\n\n\tcancelStatusCheckInterval() {\n\t\tclearInterval( this.intervalId );\n\t\tthis.intervalId = -1;\n\t}\n\n\tclearCache( resolver, query ) {\n\t\tconst { invalidateResolution, lastImportStartTimestamp } = this.props;\n\t\tconst preparedQuery =\n\t\t\tresolver === 'getImportStatus' ? lastImportStartTimestamp : query;\n\t\tinvalidateResolution( resolver, [ preparedQuery ] ).then( () => {\n\t\t\tthis.cacheNeedsClearing = false;\n\t\t} );\n\t}\n\n\tstopImport() {\n\t\tthis.cancelStatusCheckInterval();\n\t\tthis.lastImportStopTimestamp = Date.now();\n\t}\n\n\tonImportFinished() {\n\t\tconst { debouncedSpeak } = this.props;\n\t\tif ( ! this.cacheNeedsClearing ) {\n\t\t\tdebouncedSpeak( 'Import complete' );\n\t\t\tthis.stopImport();\n\t\t}\n\t}\n\n\tonImportStarted() {\n\t\tconst { notes, setImportStarted, updateNote } = this.props;\n\n\t\tconst historicalDataNote = notes.find(\n\t\t\t( note ) => note.name === 'wc-admin-historical-data'\n\t\t);\n\t\tif ( historicalDataNote ) {\n\t\t\tupdateNote( historicalDataNote.id, { status: 'actioned' } );\n\t\t}\n\n\t\tsetImportStarted( true );\n\t}\n\n\tclearStatusAndTotalsCache() {\n\t\tconst { selectedPeriod, skipChecked } = this.props;\n\t\tconst params = formatParams(\n\t\t\tthis.dateFormat,\n\t\t\tselectedPeriod,\n\t\t\tskipChecked\n\t\t);\n\n\t\tthis.clearCache( 'getImportTotals', params );\n\t\tthis.clearCache( 'getImportStatus' );\n\t}\n\n\tisImportationInProgress() {\n\t\tconst { lastImportStartTimestamp } = this.props;\n\t\treturn (\n\t\t\t( typeof lastImportStartTimestamp !== 'undefined' &&\n\t\t\t\ttypeof this.lastImportStopTimestamp === 'undefined' ) ||\n\t\t\tlastImportStartTimestamp > this.lastImportStopTimestamp\n\t\t);\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tactiveImport,\n\t\t\tcreateNotice,\n\t\t\tlastImportStartTimestamp,\n\t\t\tselectedPeriod,\n\t\t\tskipChecked,\n\t\t} = this.props;\n\n\t\treturn (\n\t\t\t<HistoricalDataLayout\n\t\t\t\tactiveImport={ activeImport }\n\t\t\t\tcacheNeedsClearing={ this.cacheNeedsClearing }\n\t\t\t\tcreateNotice={ createNotice }\n\t\t\t\tdateFormat={ this.dateFormat }\n\t\t\t\tinProgress={ this.isImportationInProgress() }\n\t\t\t\tonImportFinished={ this.onImportFinished }\n\t\t\t\tonImportStarted={ this.onImportStarted }\n\t\t\t\tlastImportStartTimestamp={ lastImportStartTimestamp }\n\t\t\t\tclearStatusAndTotalsCache={ this.clearStatusAndTotalsCache }\n\t\t\t\tperiod={ selectedPeriod }\n\t\t\t\tskipChecked={ skipChecked }\n\t\t\t\tstartStatusCheckInterval={ this.startStatusCheckInterval }\n\t\t\t\tstopImport={ this.stopImport }\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { getNotes } = select( NOTES_STORE_NAME );\n\t\tconst { getImportStarted, getFormSettings } = select(\n\t\t\tIMPORT_STORE_NAME\n\t\t);\n\n\t\tconst notesQuery = {\n\t\t\tpage: 1,\n\t\t\tper_page: QUERY_DEFAULTS.pageSize,\n\t\t\ttype: 'update',\n\t\t\tstatus: 'unactioned',\n\t\t};\n\t\tconst notes = getNotes( notesQuery );\n\t\tconst { activeImport, lastImportStartTimestamp } = getImportStarted();\n\t\tconst {\n\t\t\tperiod: selectedPeriod,\n\t\t\tskipPrevious: skipChecked,\n\t\t} = getFormSettings();\n\n\t\treturn {\n\t\t\tactiveImport,\n\t\t\tlastImportStartTimestamp,\n\t\t\tnotes,\n\t\t\tselectedPeriod,\n\t\t\tskipChecked,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { updateNote } = dispatch( NOTES_STORE_NAME );\n\t\tconst { invalidateResolution, setImportStarted } = dispatch(\n\t\t\tIMPORT_STORE_NAME\n\t\t);\n\n\t\treturn {\n\t\t\tinvalidateResolution,\n\t\t\tsetImportStarted,\n\t\t\tupdateNote,\n\t\t};\n\t} ),\n\twithSpokenMessages,\n] )( HistoricalData );\n","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component, Fragment } from '@wordpress/element';\nimport { isNil } from 'lodash';\nimport { SectionHeader } from '@woocommerce/components';\nimport { IMPORT_STORE_NAME } from '@woocommerce/data';\nimport { withSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { formatParams, getStatus } from './utils';\nimport HistoricalDataActions from './actions';\nimport HistoricalDataPeriodSelector from './period-selector';\nimport HistoricalDataProgress from './progress';\nimport HistoricalDataStatus from './status';\nimport HistoricalDataSkipCheckbox from './skip-checkbox';\nimport './style.scss';\n\nclass HistoricalDataLayout extends Component {\n\trender() {\n\t\tconst {\n\t\t\tcustomersProgress,\n\t\t\tcustomersTotal,\n\t\t\tdateFormat,\n\t\t\timportDate,\n\t\t\tinProgress,\n\t\t\tlastImportStartTimestamp,\n\t\t\tclearStatusAndTotalsCache,\n\t\t\tordersProgress,\n\t\t\tordersTotal,\n\t\t\tonImportStarted,\n\t\t\tperiod,\n\t\t\tstopImport,\n\t\t\tskipChecked,\n\t\t\tstatus,\n\t\t} = this.props;\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<SectionHeader\n\t\t\t\t\ttitle={ __(\n\t\t\t\t\t\t'Import Historical Data',\n\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t\t<div className=\"woocommerce-settings__wrapper\">\n\t\t\t\t\t<div className=\"woocommerce-setting\">\n\t\t\t\t\t\t<div className=\"woocommerce-setting__input\">\n\t\t\t\t\t\t\t<span className=\"woocommerce-setting__help\">\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'This tool populates historical analytics data by processing customers ' +\n\t\t\t\t\t\t\t\t\t\t'and orders created prior to activating WooCommerce Admin.',\n\t\t\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{ status !== 'finished' && (\n\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t<HistoricalDataPeriodSelector\n\t\t\t\t\t\t\t\t\t\tdateFormat={ dateFormat }\n\t\t\t\t\t\t\t\t\t\tdisabled={ inProgress }\n\t\t\t\t\t\t\t\t\t\tvalue={ period }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<HistoricalDataSkipCheckbox\n\t\t\t\t\t\t\t\t\t\tdisabled={ inProgress }\n\t\t\t\t\t\t\t\t\t\tchecked={ skipChecked }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<HistoricalDataProgress\n\t\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t\t'Registered Customers',\n\t\t\t\t\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tprogress={ customersProgress }\n\t\t\t\t\t\t\t\t\t\ttotal={ customersTotal }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<HistoricalDataProgress\n\t\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t\t'Orders and Refunds',\n\t\t\t\t\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tprogress={ ordersProgress }\n\t\t\t\t\t\t\t\t\t\ttotal={ ordersTotal }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<HistoricalDataStatus\n\t\t\t\t\t\t\t\timportDate={ importDate }\n\t\t\t\t\t\t\t\tstatus={ status }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<HistoricalDataActions\n\t\t\t\t\tclearStatusAndTotalsCache={ clearStatusAndTotalsCache }\n\t\t\t\t\tdateFormat={ dateFormat }\n\t\t\t\t\timportDate={ importDate }\n\t\t\t\t\tlastImportStartTimestamp={ lastImportStartTimestamp }\n\t\t\t\t\tonImportStarted={ onImportStarted }\n\t\t\t\t\tstopImport={ stopImport }\n\t\t\t\t\tstatus={ status }\n\t\t\t\t/>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nexport default withSelect( ( select, props ) => {\n\tconst { getImportError, getImportStatus, getImportTotals } = select(\n\t\tIMPORT_STORE_NAME\n\t);\n\tconst {\n\t\tactiveImport,\n\t\tcacheNeedsClearing,\n\t\tdateFormat,\n\t\tinProgress,\n\t\tonImportStarted,\n\t\tonImportFinished,\n\t\tperiod,\n\t\tstartStatusCheckInterval,\n\t\tskipChecked,\n\t} = props;\n\n\tconst params = formatParams( dateFormat, period, skipChecked );\n\tconst { customers, orders, lastImportStartTimestamp } = getImportTotals(\n\t\tparams\n\t);\n\n\tconst {\n\t\tcustomers: customersStatus,\n\t\timported_from: importDate,\n\t\tis_importing: isImporting,\n\t\torders: ordersStatus,\n\t} = getImportStatus( lastImportStartTimestamp );\n\tconst { imported: customersProgress, total: customersTotal } =\n\t\tcustomersStatus || {};\n\tconst { imported: ordersProgress, total: ordersTotal } = ordersStatus || {};\n\n\tconst isError = Boolean(\n\t\tgetImportError( lastImportStartTimestamp ) || getImportError( params )\n\t);\n\n\tconst hasImportStarted = Boolean(\n\t\t! lastImportStartTimestamp && ! inProgress && isImporting === true\n\t);\n\tif ( hasImportStarted ) {\n\t\tonImportStarted();\n\t}\n\n\tconst hasImportFinished = Boolean(\n\t\tinProgress &&\n\t\t\t! cacheNeedsClearing &&\n\t\t\tisImporting === false &&\n\t\t\t( customersTotal > 0 || ordersTotal > 0 ) &&\n\t\t\tcustomersProgress === customersTotal &&\n\t\t\tordersProgress === ordersTotal\n\t);\n\n\tlet response = {\n\t\tcustomersTotal: customers,\n\t\tisError,\n\t\tordersTotal: orders,\n\t};\n\n\tif ( activeImport ) {\n\t\tresponse = {\n\t\t\tcacheNeedsClearing,\n\t\t\tcustomersProgress,\n\t\t\tcustomersTotal: isNil( customersTotal )\n\t\t\t\t? customers\n\t\t\t\t: customersTotal,\n\t\t\tinProgress,\n\t\t\tisError,\n\t\t\tordersProgress,\n\t\t\tordersTotal: isNil( ordersTotal ) ? orders : ordersTotal,\n\t\t};\n\t}\n\n\tconst status = getStatus( response );\n\n\tif ( status === 'initializing' ) {\n\t\tstartStatusCheckInterval();\n\t}\n\n\tif ( hasImportFinished ) {\n\t\tonImportFinished();\n\t}\n\n\treturn { ...response, importDate, status };\n} )( HistoricalDataLayout );\n","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport moment from 'moment';\nimport { SelectControl } from '@wordpress/components';\nimport { DatePicker } from '@woocommerce/components';\nimport { dateValidationMessages } from '@woocommerce/date';\nimport { IMPORT_STORE_NAME } from '@woocommerce/data';\nimport { withDispatch } from '@wordpress/data';\n\nfunction HistoricalDataPeriodSelector( {\n\tdateFormat,\n\tdisabled,\n\tsetImportPeriod,\n\tvalue,\n} ) {\n\tconst onSelectChange = ( val ) => {\n\t\tsetImportPeriod( val );\n\t};\n\tconst onDatePickerChange = ( val ) => {\n\t\tconst dateModified = true;\n\t\tif ( val.date && val.date.isValid ) {\n\t\t\tsetImportPeriod( val.date.format( dateFormat ), dateModified );\n\t\t} else {\n\t\t\tsetImportPeriod( val.text, dateModified );\n\t\t}\n\t};\n\n\tconst getDatePickerError = ( momentDate ) => {\n\t\tif (\n\t\t\t! momentDate.isValid() ||\n\t\t\tvalue.date.length !== dateFormat.length\n\t\t) {\n\t\t\treturn dateValidationMessages.invalid;\n\t\t}\n\t\tif ( momentDate.isAfter( new Date(), 'day' ) ) {\n\t\t\treturn dateValidationMessages.future;\n\t\t}\n\t\treturn null;\n\t};\n\tconst getDatePicker = () => {\n\t\tconst momentDate = moment( value.date, dateFormat );\n\t\treturn (\n\t\t\t<div className=\"woocommerce-settings-historical-data__column\">\n\t\t\t\t<div className=\"woocommerce-settings-historical-data__column-label\">\n\t\t\t\t\t{ __( 'Beginning on', 'woocommerce-admin' ) }\n\t\t\t\t</div>\n\t\t\t\t<DatePicker\n\t\t\t\t\tdate={ momentDate.isValid() ? momentDate.toDate() : null }\n\t\t\t\t\tdateFormat={ dateFormat }\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\terror={ getDatePickerError( momentDate ) }\n\t\t\t\t\tisInvalidDate={ ( date ) =>\n\t\t\t\t\t\tmoment( date ).isAfter( new Date(), 'day' )\n\t\t\t\t\t}\n\t\t\t\t\tonUpdate={ onDatePickerChange }\n\t\t\t\t\ttext={ value.date }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className=\"woocommerce-settings-historical-data__columns\">\n\t\t\t<div className=\"woocommerce-settings-historical-data__column\">\n\t\t\t\t<SelectControl\n\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t'Import Historical Data',\n\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t) }\n\t\t\t\t\tvalue={ value.label }\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\tonChange={ onSelectChange }\n\t\t\t\t\toptions={ [\n\t\t\t\t\t\t{ label: 'All', value: 'all' },\n\t\t\t\t\t\t{ label: 'Last 365 days', value: '365' },\n\t\t\t\t\t\t{ label: 'Last 90 days', value: '90' },\n\t\t\t\t\t\t{ label: 'Last 30 days', value: '30' },\n\t\t\t\t\t\t{ label: 'Last 7 days', value: '7' },\n\t\t\t\t\t\t{ label: 'Last 24 hours', value: '1' },\n\t\t\t\t\t\t{ label: 'Custom', value: 'custom' },\n\t\t\t\t\t] }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t{ value.label === 'custom' && getDatePicker() }\n\t\t</div>\n\t);\n}\n\nexport default withDispatch( ( dispatch ) => {\n\tconst { setImportPeriod } = dispatch( IMPORT_STORE_NAME );\n\treturn { setImportPeriod };\n} )( HistoricalDataPeriodSelector );\n","/**\n * External dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { isNil } from 'lodash';\n\nfunction HistoricalDataProgress( { label, progress, total } ) {\n\tconst labelText = sprintf(\n\t\t__( 'Imported %(label)s', 'woocommerce-admin' ),\n\t\t{\n\t\t\tlabel,\n\t\t}\n\t);\n\n\tconst labelCounters = ! isNil( total )\n\t\t? sprintf( __( '%(progress)s of %(total)s', 'woocommerce-admin' ), {\n\t\t\t\tprogress: progress || 0,\n\t\t\t\ttotal,\n\t\t  } )\n\t\t: null;\n\n\treturn (\n\t\t<div className=\"woocommerce-settings-historical-data__progress\">\n\t\t\t<span className=\"woocommerce-settings-historical-data__progress-label\">\n\t\t\t\t{ labelText }\n\t\t\t</span>\n\t\t\t{ labelCounters && (\n\t\t\t\t<span className=\"woocommerce-settings-historical-data__progress-label\">\n\t\t\t\t\t{ labelCounters }\n\t\t\t\t</span>\n\t\t\t) }\n\t\t\t<progress\n\t\t\t\tclassName=\"woocommerce-settings-historical-data__progress-bar\"\n\t\t\t\tmax={ total }\n\t\t\t\tvalue={ progress || 0 }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport default HistoricalDataProgress;\n","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { CheckboxControl } from '@wordpress/components';\nimport { IMPORT_STORE_NAME } from '@woocommerce/data';\nimport { withDispatch } from '@wordpress/data';\n\nfunction HistoricalDataSkipCheckbox( { checked, disabled, setSkipPrevious } ) {\n\tconst skipChange = ( value ) => {\n\t\tsetSkipPrevious( value );\n\t};\n\treturn (\n\t\t<CheckboxControl\n\t\t\tclassName=\"woocommerce-settings-historical-data__skip-checkbox\"\n\t\t\tchecked={ checked }\n\t\t\tdisabled={ disabled }\n\t\t\tlabel={ __(\n\t\t\t\t'Skip previously imported customers and orders',\n\t\t\t\t'woocommerce-admin'\n\t\t\t) }\n\t\t\tonChange={ skipChange }\n\t\t/>\n\t);\n}\n\nexport default withDispatch( ( dispatch ) => {\n\tconst { setSkipPrevious } = dispatch( IMPORT_STORE_NAME );\n\treturn { setSkipPrevious };\n} )( HistoricalDataSkipCheckbox );\n","/**\n * External dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { applyFilters } from '@wordpress/hooks';\nimport moment from 'moment';\nimport { Spinner } from '@wordpress/components';\n\nconst HISTORICAL_DATA_STATUS_FILTER = 'woocommerce_admin_import_status';\n\nfunction HistoricalDataStatus( { importDate, status } ) {\n\tconst statusLabels = applyFilters( HISTORICAL_DATA_STATUS_FILTER, {\n\t\tnothing: __( 'Nothing To Import', 'woocommerce-admin' ),\n\t\tready: __( 'Ready To Import', 'woocommerce-admin' ),\n\t\tinitializing: [\n\t\t\t__( 'Initializing', 'woocommerce-admin' ),\n\t\t\t<Spinner key=\"spinner\" />,\n\t\t],\n\t\tcustomers: [\n\t\t\t__( 'Importing Customers', 'woocommerce-admin' ),\n\t\t\t<Spinner key=\"spinner\" />,\n\t\t],\n\t\torders: [\n\t\t\t__( 'Importing Orders', 'woocommerce-admin' ),\n\t\t\t<Spinner key=\"spinner\" />,\n\t\t],\n\t\tfinalizing: [\n\t\t\t__( 'Finalizing', 'woocommerce-admin' ),\n\t\t\t<Spinner key=\"spinner\" />,\n\t\t],\n\t\tfinished:\n\t\t\timportDate === -1\n\t\t\t\t? __( 'All historical data imported', 'woocommerce-admin' )\n\t\t\t\t: sprintf(\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'Historical data from %s onward imported',\n\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t// @todo The date formatting should be localized ( 'll' ), but this is currently broken in Gutenberg.\n\t\t\t\t\t\t// See https://github.com/WordPress/gutenberg/issues/12626 for details.\n\t\t\t\t\t\tmoment( importDate ).format( 'YYYY-MM-DD' )\n\t\t\t\t  ),\n\t} );\n\n\treturn (\n\t\t<span className=\"woocommerce-settings-historical-data__status\">\n\t\t\t{ __( 'Status:', 'woocommerce-admin' ) + ' ' }\n\t\t\t{ statusLabels[ status ] }\n\t\t</span>\n\t);\n}\n\nexport default HistoricalDataStatus;\n","// extracted by mini-css-extract-plugin","/**\n * External dependencies\n */\nimport { isNil } from 'lodash';\nimport moment from 'moment';\n\nexport const formatParams = ( dateFormat, period, skipChecked ) => {\n\tconst params = {};\n\tif ( skipChecked ) {\n\t\tparams.skip_existing = true;\n\t}\n\tif ( period.label !== 'all' ) {\n\t\tif ( period.label === 'custom' ) {\n\t\t\tconst daysDifference = moment().diff(\n\t\t\t\tmoment( period.date, dateFormat ),\n\t\t\t\t'days',\n\t\t\t\ttrue\n\t\t\t);\n\t\t\tparams.days = Math.floor( daysDifference );\n\t\t} else {\n\t\t\tparams.days = parseInt( period.label, 10 );\n\t\t}\n\t}\n\n\treturn params;\n};\n\nexport const getStatus = ( {\n\tcacheNeedsClearing,\n\tcustomersProgress,\n\tcustomersTotal,\n\tisError,\n\tinProgress,\n\tordersProgress,\n\tordersTotal,\n} ) => {\n\tif ( isError ) {\n\t\treturn 'error';\n\t}\n\tif ( inProgress ) {\n\t\tif (\n\t\t\tisNil( customersProgress ) ||\n\t\t\tisNil( ordersProgress ) ||\n\t\t\tisNil( customersTotal ) ||\n\t\t\tisNil( ordersTotal ) ||\n\t\t\tcacheNeedsClearing\n\t\t) {\n\t\t\treturn 'initializing';\n\t\t}\n\t\tif ( customersProgress < customersTotal ) {\n\t\t\treturn 'customers';\n\t\t}\n\t\tif ( ordersProgress < ordersTotal ) {\n\t\t\treturn 'orders';\n\t\t}\n\t\treturn 'finalizing';\n\t}\n\tif ( customersTotal > 0 || ordersTotal > 0 ) {\n\t\tif (\n\t\t\tcustomersProgress === customersTotal &&\n\t\t\tordersProgress === ordersTotal\n\t\t) {\n\t\t\treturn 'finished';\n\t\t}\n\t\treturn 'ready';\n\t}\n\treturn 'nothing';\n};\n","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { Fragment, useEffect, useRef } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport { withDispatch } from '@wordpress/data';\nimport { SectionHeader, ScrollTo } from '@woocommerce/components';\nimport { useSettings } from '@woocommerce/data';\nimport { recordEvent } from '@woocommerce/tracks';\n\n/**\n * Internal dependencies\n */\nimport './index.scss';\nimport { config } from './config';\nimport Setting from './setting';\nimport HistoricalData from './historical-data';\n\nconst Settings = ( { createNotice, query } ) => {\n\tconst {\n\t\tsettingsError,\n\t\tisRequesting,\n\t\tisDirty,\n\t\tpersistSettings,\n\t\tupdateAndPersistSettings,\n\t\tupdateSettings,\n\t\twcAdminSettings,\n\t} = useSettings( 'wc_admin', [ 'wcAdminSettings' ] );\n\tconst hasSaved = useRef( false );\n\n\tuseEffect( () => {\n\t\tfunction warnIfUnsavedChanges( event ) {\n\t\t\tif ( isDirty ) {\n\t\t\t\tevent.returnValue = __(\n\t\t\t\t\t'You have unsaved changes. If you proceed, they will be lost.',\n\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t);\n\t\t\t\treturn event.returnValue;\n\t\t\t}\n\t\t}\n\t\twindow.addEventListener( 'beforeunload', warnIfUnsavedChanges );\n\t\treturn () =>\n\t\t\twindow.removeEventListener( 'beforeunload', warnIfUnsavedChanges );\n\t}, [ isDirty ] );\n\n\tuseEffect( () => {\n\t\tif ( isRequesting ) {\n\t\t\thasSaved.current = true;\n\t\t\treturn;\n\t\t}\n\t\tif ( ! isRequesting && hasSaved.current ) {\n\t\t\tif ( ! settingsError ) {\n\t\t\t\tcreateNotice(\n\t\t\t\t\t'success',\n\t\t\t\t\t__(\n\t\t\t\t\t\t'Your settings have been successfully saved.',\n\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tcreateNotice(\n\t\t\t\t\t'error',\n\t\t\t\t\t__(\n\t\t\t\t\t\t'There was an error saving your settings. Please try again.',\n\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\thasSaved.current = false;\n\t\t}\n\t}, [ isRequesting, settingsError, createNotice ] );\n\n\tconst resetDefaults = () => {\n\t\tif (\n\t\t\t// eslint-disable-next-line no-alert\n\t\t\twindow.confirm(\n\t\t\t\t__(\n\t\t\t\t\t'Are you sure you want to reset all settings to default values?',\n\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t)\n\t\t\t)\n\t\t) {\n\t\t\tconst resetSettings = Object.keys( config ).reduce(\n\t\t\t\t( result, setting ) => {\n\t\t\t\t\tresult[ setting ] = config[ setting ].defaultValue;\n\t\t\t\t\treturn result;\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t);\n\n\t\t\tupdateAndPersistSettings( 'wcAdminSettings', resetSettings );\n\t\t\trecordEvent( 'analytics_settings_reset_defaults' );\n\t\t}\n\t};\n\n\tconst saveChanges = () => {\n\t\tpersistSettings();\n\t\trecordEvent( 'analytics_settings_save', wcAdminSettings );\n\n\t\t// On save, reset persisted query properties of Nav Menu links to default\n\t\tquery.period = undefined;\n\t\tquery.compare = undefined;\n\t\tquery.before = undefined;\n\t\tquery.after = undefined;\n\t\tquery.interval = undefined;\n\t\tquery.type = undefined;\n\t\twindow.wpNavMenuUrlUpdate( query );\n\t};\n\n\tconst handleInputChange = ( e ) => {\n\t\tconst { checked, name, type, value } = e.target;\n\t\tconst nextSettings = { ...wcAdminSettings };\n\n\t\tif ( type === 'checkbox' ) {\n\t\t\tif ( checked ) {\n\t\t\t\tnextSettings[ name ] = [ ...nextSettings[ name ], value ];\n\t\t\t} else {\n\t\t\t\tnextSettings[ name ] = nextSettings[ name ].filter(\n\t\t\t\t\t( v ) => v !== value\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\tnextSettings[ name ] = value;\n\t\t}\n\t\tupdateSettings( 'wcAdminSettings', nextSettings );\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<SectionHeader\n\t\t\t\ttitle={ __( 'Analytics Settings', 'woocommerce-admin' ) }\n\t\t\t/>\n\t\t\t<div className=\"woocommerce-settings__wrapper\">\n\t\t\t\t{ Object.keys( config ).map( ( setting ) => (\n\t\t\t\t\t<Setting\n\t\t\t\t\t\thandleChange={ handleInputChange }\n\t\t\t\t\t\tvalue={ wcAdminSettings[ setting ] }\n\t\t\t\t\t\tkey={ setting }\n\t\t\t\t\t\tname={ setting }\n\t\t\t\t\t\t{ ...config[ setting ] }\n\t\t\t\t\t/>\n\t\t\t\t) ) }\n\t\t\t\t<div className=\"woocommerce-settings__actions\">\n\t\t\t\t\t<Button isSecondary onClick={ resetDefaults }>\n\t\t\t\t\t\t{ __( 'Reset Defaults', 'woocommerce-admin' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tisPrimary\n\t\t\t\t\t\tisBusy={ isRequesting }\n\t\t\t\t\t\tonClick={ saveChanges }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Save Settings', 'woocommerce-admin' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{ query.import === 'true' ? (\n\t\t\t\t<ScrollTo offset=\"-56\">\n\t\t\t\t\t<HistoricalData createNotice={ createNotice } />\n\t\t\t\t</ScrollTo>\n\t\t\t) : (\n\t\t\t\t<HistoricalData createNotice={ createNotice } />\n\t\t\t) }\n\t\t</Fragment>\n\t);\n};\n\nexport default compose(\n\twithDispatch( ( dispatch ) => {\n\t\tconst { createNotice } = dispatch( 'core/notices' );\n\n\t\treturn {\n\t\t\tcreateNotice,\n\t\t};\n\t} )\n)( Settings );\n","// extracted by mini-css-extract-plugin","/**\n * External dependencies\n */\nimport { Button, CheckboxControl } from '@wordpress/components';\nimport { Component } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport PropTypes from 'prop-types';\nimport { uniqueId } from 'lodash';\nimport { withDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport './setting.scss';\n\nclass Setting extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.state = {\n\t\t\tdisabled: false,\n\t\t};\n\t}\n\n\trenderInput = () => {\n\t\tconst {\n\t\t\thandleChange,\n\t\t\tname,\n\t\t\tinputText,\n\t\t\tinputType,\n\t\t\toptions,\n\t\t\tvalue,\n\t\t\tcomponent,\n\t\t} = this.props;\n\t\tconst { disabled } = this.state;\n\n\t\tswitch ( inputType ) {\n\t\t\tcase 'checkboxGroup':\n\t\t\t\treturn options.map(\n\t\t\t\t\t( optionGroup ) =>\n\t\t\t\t\t\toptionGroup.options.length > 0 && (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"woocommerce-setting__options-group\"\n\t\t\t\t\t\t\t\tkey={ optionGroup.key }\n\t\t\t\t\t\t\t\taria-labelledby={ name + '-label' }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ optionGroup.label && (\n\t\t\t\t\t\t\t\t\t<span className=\"woocommerce-setting__options-group-label\">\n\t\t\t\t\t\t\t\t\t\t{ optionGroup.label }\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t{ this.renderCheckboxOptions(\n\t\t\t\t\t\t\t\t\toptionGroup.options\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t);\n\t\t\tcase 'checkbox':\n\t\t\t\treturn this.renderCheckboxOptions( options );\n\t\t\tcase 'button':\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tisSecondary\n\t\t\t\t\t\tonClick={ this.handleInputCallback }\n\t\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ inputText }\n\t\t\t\t\t</Button>\n\t\t\t\t);\n\t\t\tcase 'component':\n\t\t\t\tconst SettingComponent = component;\n\t\t\t\treturn (\n\t\t\t\t\t<SettingComponent\n\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t{ ...this.props }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'text':\n\t\t\tdefault:\n\t\t\t\tconst id = uniqueId( name );\n\t\t\t\treturn (\n\t\t\t\t\t<input\n\t\t\t\t\t\tid={ id }\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\tplaceholder={ inputText }\n\t\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t}\n\t};\n\n\thandleInputCallback = () => {\n\t\tconst { createNotice, callback } = this.props;\n\n\t\tif ( typeof callback !== 'function' ) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn new Promise( ( resolve, reject ) => {\n\t\t\tthis.setState( { disabled: true } );\n\t\t\tcallback( resolve, reject, createNotice );\n\t\t} )\n\t\t\t.then( () => {\n\t\t\t\tthis.setState( { disabled: false } );\n\t\t\t} )\n\t\t\t.catch( () => {\n\t\t\t\tthis.setState( { disabled: false } );\n\t\t\t} );\n\t};\n\n\trenderCheckboxOptions( options ) {\n\t\tconst { handleChange, name, value } = this.props;\n\t\tconst { disabled } = this.state;\n\n\t\treturn options.map( ( option ) => {\n\t\t\treturn (\n\t\t\t\t<CheckboxControl\n\t\t\t\t\tkey={ name + '-' + option.value }\n\t\t\t\t\tlabel={ option.label }\n\t\t\t\t\tname={ name }\n\t\t\t\t\tchecked={ value && value.includes( option.value ) }\n\t\t\t\t\tonChange={ ( checked ) =>\n\t\t\t\t\t\thandleChange( {\n\t\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\t\tchecked,\n\t\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\t\t\tvalue: option.value,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t/>\n\t\t\t);\n\t\t} );\n\t}\n\n\trender() {\n\t\tconst { helpText, label, name } = this.props;\n\n\t\treturn (\n\t\t\t<div className=\"woocommerce-setting\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"woocommerce-setting__label\"\n\t\t\t\t\tid={ name + '-label' }\n\t\t\t\t>\n\t\t\t\t\t{ label }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"woocommerce-setting__input\">\n\t\t\t\t\t{ this.renderInput() }\n\t\t\t\t\t{ helpText && (\n\t\t\t\t\t\t<span className=\"woocommerce-setting__help\">\n\t\t\t\t\t\t\t{ helpText }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nSetting.propTypes = {\n\t/**\n\t * A callback that is fired after actionable items, such as buttons.\n\t */\n\tcallback: PropTypes.func,\n\t/**\n\t * Function assigned to the onChange of all inputs.\n\t */\n\thandleChange: PropTypes.func.isRequired,\n\t/**\n\t * Optional help text displayed underneath the setting.\n\t */\n\thelpText: PropTypes.oneOfType( [ PropTypes.string, PropTypes.array ] ),\n\t/**\n\t * Text used as placeholder or button text in the input area.\n\t */\n\tinputText: PropTypes.string,\n\t/**\n\t * Type of input to use; defaults to a text input.\n\t */\n\tinputType: PropTypes.oneOf( [\n\t\t'button',\n\t\t'checkbox',\n\t\t'checkboxGroup',\n\t\t'text',\n\t\t'component',\n\t] ),\n\t/**\n\t * Label used for describing the setting.\n\t */\n\tlabel: PropTypes.string.isRequired,\n\t/**\n\t * Setting slug applied to input names.\n\t */\n\tname: PropTypes.string.isRequired,\n\t/**\n\t * Array of options used for when the `inputType` allows multiple selections.\n\t */\n\toptions: PropTypes.arrayOf(\n\t\tPropTypes.shape( {\n\t\t\t/**\n\t\t\t * Input value for this option.\n\t\t\t */\n\t\t\tvalue: PropTypes.string,\n\t\t\t/**\n\t\t\t * Label for this option or above a group for a group `inputType`.\n\t\t\t */\n\t\t\tlabel: PropTypes.string,\n\t\t\t/**\n\t\t\t * Description used for screen readers.\n\t\t\t */\n\t\t\tdescription: PropTypes.string,\n\t\t\t/**\n\t\t\t * Key used for a group `inputType`.\n\t\t\t */\n\t\t\tkey: PropTypes.string,\n\t\t\t/**\n\t\t\t * Nested options for a group `inputType`.\n\t\t\t */\n\t\t\toptions: PropTypes.array,\n\t\t} )\n\t),\n\t/**\n\t * The string value used for the input or array of items if the input allows multiselection.\n\t */\n\tvalue: PropTypes.oneOfType( [ PropTypes.string, PropTypes.array ] ),\n};\n\nexport default compose(\n\twithDispatch( ( dispatch ) => {\n\t\tconst { createNotice } = dispatch( 'core/notices' );\n\t\treturn { createNotice };\n\t} )\n)( Setting );\n","// extracted by mini-css-extract-plugin"],"sourceRoot":""}