{"version":3,"sources":["webpack://wc.[modulename]/./client/layout/store-alerts/index.js","webpack://wc.[modulename]/./client/layout/store-alerts/placeholder.js","webpack://wc.[modulename]/./client/layout/store-alerts/style.scss?3330","webpack://wc.[modulename]/./client/lib/sanitize-html/index.js"],"names":["StoreAlerts","props","state","currentIndex","previousAlert","bind","nextAlert","event","stopPropagation","setState","alerts","getAlerts","length","alert","triggerNoteAction","updateNote","actions","map","action","name","primary","url","undefined","id","label","snoozeOptions","value","moment","add","unix","toString","__","hour","minute","second","millisecond","setReminderDate","snoozeOption","status","date_reminder","eventProps","alert_name","alert_title","title","snooze_duration","snooze_label","recordEvent","snooze","is_snoozable","reminderOption","find","option","reminderDate","filter","note","preloadAlertCount","getSetting","count","parseInt","isLoading","numberOfAlerts","type","className","classnames","icon","chevronLeft","interpolateComponents","mixedString","components","current","total","chevronRight","sanitizeHTML","content","renderActions","Component","ALERTS_QUERY","page","per_page","QUERY_DEFAULTS","pageSize","compose","withSelect","select","NOTES_STORE_NAME","getNotes","isResolving","withDispatch","dispatch","StoreAlertsPlaceholder","hasMultipleAlerts","propTypes","PropTypes","bool","defaultProps","ALLOWED_TAGS","ALLOWED_ATTR","html","__html","sanitize"],"mappings":"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","file":"chunks/store-alerts.min.js","sourcesContent":["/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component, Fragment } from '@wordpress/element';\nimport {\n\tButton,\n\tCard,\n\tCardBody,\n\tCardFooter,\n\tCardHeader,\n\tDashicon,\n\tSelectControl,\n} from '@wordpress/components';\nimport classnames from 'classnames';\nimport interpolateComponents from 'interpolate-components';\nimport { compose } from '@wordpress/compose';\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport moment from 'moment';\nimport { Icon, chevronLeft, chevronRight } from '@wordpress/icons';\nimport { getSetting } from '@woocommerce/wc-admin-settings';\nimport { NOTES_STORE_NAME, QUERY_DEFAULTS } from '@woocommerce/data';\nimport { recordEvent } from '@woocommerce/tracks';\nimport { Text } from '@woocommerce/experimental';\n\n/**\n * Internal dependencies\n */\nimport sanitizeHTML from '../../lib/sanitize-html';\nimport StoreAlertsPlaceholder from './placeholder';\n\nimport './style.scss';\n\nexport class StoreAlerts extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tcurrentIndex: 0,\n\t\t};\n\n\t\tthis.previousAlert = this.previousAlert.bind( this );\n\t\tthis.nextAlert = this.nextAlert.bind( this );\n\t}\n\n\tpreviousAlert( event ) {\n\t\tevent.stopPropagation();\n\t\tconst { currentIndex } = this.state;\n\n\t\tif ( currentIndex > 0 ) {\n\t\t\tthis.setState( {\n\t\t\t\tcurrentIndex: currentIndex - 1,\n\t\t\t} );\n\t\t}\n\t}\n\n\tnextAlert( event ) {\n\t\tevent.stopPropagation();\n\t\tconst alerts = this.getAlerts();\n\t\tconst { currentIndex } = this.state;\n\n\t\tif ( currentIndex < alerts.length - 1 ) {\n\t\t\tthis.setState( {\n\t\t\t\tcurrentIndex: currentIndex + 1,\n\t\t\t} );\n\t\t}\n\t}\n\n\trenderActions( alert ) {\n\t\tconst { triggerNoteAction, updateNote } = this.props;\n\t\tconst actions = alert.actions.map( ( action ) => {\n\t\t\treturn (\n\t\t\t\t<Button\n\t\t\t\t\tkey={ action.name }\n\t\t\t\t\tisPrimary={ action.primary }\n\t\t\t\t\tisSecondary={ ! action.primary }\n\t\t\t\t\thref={ action.url || undefined }\n\t\t\t\t\tonClick={ () => triggerNoteAction( alert.id, action.id ) }\n\t\t\t\t>\n\t\t\t\t\t{ action.label }\n\t\t\t\t</Button>\n\t\t\t);\n\t\t} );\n\n\t\t// TODO: should \"next X\" be the start, or exactly 1X from the current date?\n\t\tconst snoozeOptions = [\n\t\t\t{\n\t\t\t\tvalue: moment().add( 4, 'hours' ).unix().toString(),\n\t\t\t\tlabel: __( 'Later Today', 'woocommerce-admin' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: moment()\n\t\t\t\t\t.add( 1, 'day' )\n\t\t\t\t\t.hour( 9 )\n\t\t\t\t\t.minute( 0 )\n\t\t\t\t\t.second( 0 )\n\t\t\t\t\t.millisecond( 0 )\n\t\t\t\t\t.unix()\n\t\t\t\t\t.toString(),\n\t\t\t\tlabel: __( 'Tomorrow', 'woocommerce-admin' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: moment()\n\t\t\t\t\t.add( 1, 'week' )\n\t\t\t\t\t.hour( 9 )\n\t\t\t\t\t.minute( 0 )\n\t\t\t\t\t.second( 0 )\n\t\t\t\t\t.millisecond( 0 )\n\t\t\t\t\t.unix()\n\t\t\t\t\t.toString(),\n\t\t\t\tlabel: __( 'Next Week', 'woocommerce-admin' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: moment()\n\t\t\t\t\t.add( 1, 'month' )\n\t\t\t\t\t.hour( 9 )\n\t\t\t\t\t.minute( 0 )\n\t\t\t\t\t.second( 0 )\n\t\t\t\t\t.millisecond( 0 )\n\t\t\t\t\t.unix()\n\t\t\t\t\t.toString(),\n\t\t\t\tlabel: __( 'Next Month', 'woocommerce-admin' ),\n\t\t\t},\n\t\t];\n\n\t\tconst setReminderDate = ( snoozeOption ) => {\n\t\t\tupdateNote( alert.id, {\n\t\t\t\tstatus: 'snoozed',\n\t\t\t\tdate_reminder: snoozeOption.value,\n\t\t\t} );\n\n\t\t\tconst eventProps = {\n\t\t\t\talert_name: alert.name,\n\t\t\t\talert_title: alert.title,\n\t\t\t\tsnooze_duration: snoozeOption.value,\n\t\t\t\tsnooze_label: snoozeOption.label,\n\t\t\t};\n\t\t\trecordEvent( 'store_alert_snooze', eventProps );\n\t\t};\n\n\t\tconst snooze = alert.is_snoozable && (\n\t\t\t<SelectControl\n\t\t\t\tclassName=\"woocommerce-store-alerts__snooze\"\n\t\t\t\toptions={ [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: __( 'Remind Me Later', 'woocommerce-admin' ),\n\t\t\t\t\t\tvalue: '0',\n\t\t\t\t\t},\n\t\t\t\t\t...snoozeOptions,\n\t\t\t\t] }\n\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\tif ( value === '0' ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst reminderOption = snoozeOptions.find(\n\t\t\t\t\t\t( option ) => option.value === value\n\t\t\t\t\t);\n\t\t\t\t\tconst reminderDate = {\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t\tlabel: reminderOption && reminderOption.label,\n\t\t\t\t\t};\n\t\t\t\t\tsetReminderDate( reminderDate );\n\t\t\t\t} }\n\t\t\t/>\n\t\t);\n\n\t\tif ( actions || snooze ) {\n\t\t\treturn (\n\t\t\t\t<div className=\"woocommerce-store-alerts__actions\">\n\t\t\t\t\t{ actions }\n\t\t\t\t\t{ snooze }\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n\n\tgetAlerts() {\n\t\treturn ( this.props.alerts || [] ).filter(\n\t\t\t( note ) => note.status === 'unactioned'\n\t\t);\n\t}\n\n\trender() {\n\t\tconst alerts = this.getAlerts();\n\t\tconst preloadAlertCount = getSetting( 'alertCount', 0, ( count ) =>\n\t\t\tparseInt( count, 10 )\n\t\t);\n\n\t\tif ( preloadAlertCount > 0 && this.props.isLoading ) {\n\t\t\treturn (\n\t\t\t\t<StoreAlertsPlaceholder\n\t\t\t\t\thasMultipleAlerts={ preloadAlertCount > 1 }\n\t\t\t\t/>\n\t\t\t);\n\t\t} else if ( alerts.length === 0 ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst { currentIndex } = this.state;\n\t\tconst numberOfAlerts = alerts.length;\n\t\tconst alert = alerts[ currentIndex ];\n\t\tconst type = alert.type;\n\t\tconst className = classnames( 'woocommerce-store-alerts', {\n\t\t\t'is-alert-error': type === 'error',\n\t\t\t'is-alert-update': type === 'update',\n\t\t} );\n\n\t\treturn (\n\t\t\t<Card className={ className } size={ null }>\n\t\t\t\t<CardHeader isBorderless>\n\t\t\t\t\t<Text variant=\"title.medium\" as=\"h2\">\n\t\t\t\t\t\t{ alert.icon && (\n\t\t\t\t\t\t\t<Dashicon key=\"icon\" icon={ alert.icon } />\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ alert.title }\n\t\t\t\t\t</Text>\n\t\t\t\t\t{ numberOfAlerts > 1 && (\n\t\t\t\t\t\t<div className=\"woocommerce-store-alerts__pagination\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={ this.previousAlert }\n\t\t\t\t\t\t\t\tdisabled={ currentIndex === 0 }\n\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t'Previous Alert',\n\t\t\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon icon={ chevronLeft } />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"woocommerce-store-alerts__pagination-label\"\n\t\t\t\t\t\t\t\trole=\"status\"\n\t\t\t\t\t\t\t\taria-live=\"polite\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ interpolateComponents( {\n\t\t\t\t\t\t\t\t\tmixedString: __(\n\t\t\t\t\t\t\t\t\t\t'{{current /}} of {{total /}}',\n\t\t\t\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tcomponents: {\n\t\t\t\t\t\t\t\t\t\tcurrent: (\n\t\t\t\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t{ currentIndex + 1 }\n\t\t\t\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\ttotal: (\n\t\t\t\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t{ numberOfAlerts }\n\t\t\t\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={ this.nextAlert }\n\t\t\t\t\t\t\t\tdisabled={ numberOfAlerts - 1 === currentIndex }\n\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t'Next Alert',\n\t\t\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon icon={ chevronRight } />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t</CardHeader>\n\t\t\t\t<CardBody>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"woocommerce-store-alerts__message\"\n\t\t\t\t\t\tdangerouslySetInnerHTML={ sanitizeHTML(\n\t\t\t\t\t\t\talert.content\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t</CardBody>\n\t\t\t\t<CardFooter isBorderless>\n\t\t\t\t\t{ this.renderActions( alert ) }\n\t\t\t\t</CardFooter>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\nconst ALERTS_QUERY = {\n\tpage: 1,\n\tper_page: QUERY_DEFAULTS.pageSize,\n\ttype: 'error,update',\n\tstatus: 'unactioned',\n};\n\nexport default compose(\n\twithSelect( ( select ) => {\n\t\tconst { getNotes, isResolving } = select( NOTES_STORE_NAME );\n\n\t\t// Filter out notes that may have been marked actioned or not delayed after the initial request\n\n\t\tconst alerts = getNotes( ALERTS_QUERY );\n\t\tconst isLoading = isResolving( 'getNotes', [ ALERTS_QUERY ] );\n\n\t\treturn {\n\t\t\talerts,\n\t\t\tisLoading,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { triggerNoteAction, updateNote } = dispatch( NOTES_STORE_NAME );\n\n\t\treturn {\n\t\t\ttriggerNoteAction,\n\t\t\tupdateNote,\n\t\t};\n\t} )\n)( StoreAlerts );\n","/**\n * External dependencies\n */\nimport { Component } from '@wordpress/element';\nimport PropTypes from 'prop-types';\nimport { Card, CardBody, CardFooter, CardHeader } from '@wordpress/components';\n\nclass StoreAlertsPlaceholder extends Component {\n\trender() {\n\t\tconst { hasMultipleAlerts } = this.props;\n\n\t\treturn (\n\t\t\t<Card\n\t\t\t\tclassName=\"woocommerce-store-alerts is-loading\"\n\t\t\t\taria-hidden\n\t\t\t\tsize={ null }\n\t\t\t>\n\t\t\t\t<CardHeader isBorderless>\n\t\t\t\t\t<span className=\"is-placeholder\" />\n\t\t\t\t\t{ hasMultipleAlerts && <span className=\"is-placeholder\" /> }\n\t\t\t\t</CardHeader>\n\t\t\t\t<CardBody>\n\t\t\t\t\t<div className=\"woocommerce-store-alerts__message\">\n\t\t\t\t\t\t<span className=\"is-placeholder\" />\n\t\t\t\t\t\t<span className=\"is-placeholder\" />\n\t\t\t\t\t</div>\n\t\t\t\t</CardBody>\n\t\t\t\t<CardFooter isBorderless>\n\t\t\t\t\t<span className=\"is-placeholder\" />\n\t\t\t\t</CardFooter>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\nexport default StoreAlertsPlaceholder;\n\nStoreAlertsPlaceholder.propTypes = {\n\t/**\n\t * Whether multiple alerts exists.\n\t */\n\thasMultipleAlerts: PropTypes.bool,\n};\n\nStoreAlertsPlaceholder.defaultProps = {\n\thasMultipleAlerts: false,\n};\n","// extracted by mini-css-extract-plugin","/**\n * External dependencies\n */\nimport { sanitize } from 'dompurify';\n\nexport const ALLOWED_TAGS = [ 'a', 'b', 'em', 'i', 'strong', 'p', 'br' ];\nexport const ALLOWED_ATTR = [ 'target', 'href', 'rel', 'name', 'download' ];\n\nexport default ( html ) => {\n\treturn {\n\t\t__html: sanitize( html, { ALLOWED_TAGS, ALLOWED_ATTR } ),\n\t};\n};\n"],"sourceRoot":""}